var __values=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],i=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},__read=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var i,n,o=r.call(e),s=[];try{for(;(void 0===t||0<t--)&&!(i=o.next()).done;)s.push(i.value)}catch(e){n={error:e}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return s},__spread=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(__read(arguments[t]));return e},__assign=this&&this.__assign||function(){return(__assign=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},__extends=this&&this.__extends||function(){var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};return function(e,t){function __(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}}(),__awaiter=this&&this.__awaiter||function(e,i,n,o){return new(n=n||Promise)(function(t,r){function fulfilled(e){try{step(o.next(e))}catch(e){r(e)}}function rejected(e){try{step(o.throw(e))}catch(e){r(e)}}function step(e){e.done?t(e.value):function adopt(t){return t instanceof n?t:new n(function(e){e(t)})}(e.value).then(fulfilled,rejected)}step((o=o.apply(e,i||[])).next())})},__generator=this&&this.__generator||function(r,i){var n,o,s,e,a={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return e={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function verb(t){return function(e){return function step(t){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(s=2&t[0]?o.return:t[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,t[1])).done)return s;switch(o=0,s&&(t=[2&t[0],s.value]),t[0]){case 0:case 1:s=t;break;case 4:return a.label++,{value:t[1],done:!1};case 5:a.label++,o=t[1],t=[0];continue;case 7:t=a.ops.pop(),a.trys.pop();continue;default:if(!(s=0<(s=a.trys).length&&s[s.length-1])&&(6===t[0]||2===t[0])){a=0;continue}if(3===t[0]&&(!s||t[1]>s[0]&&t[1]<s[3])){a.label=t[1];break}if(6===t[0]&&a.label<s[1]){a.label=s[1],s=t;break}if(s&&a.label<s[2]){a.label=s[2],a.ops.push(t);break}s[2]&&a.ops.pop(),a.trys.pop();continue}t=i.call(r,a)}catch(e){t=[6,e],o=0}finally{n=s=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},__importStar=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};define("lib/services/service",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});function ea(){}t.Service=ea}),define("lib/services/servicable",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});function ha(){}t.Servicable=ha}),define("lib/services/ux/service/elements/base",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var c=(Object.defineProperty(BaseElement.prototype,"provider",{get:function(){return this._provider},set:function(e){this._provider=e},enumerable:!0,configurable:!0}),Object.defineProperty(BaseElement.prototype,"delegate",{get:function(){return this._delegate},set:function(e){this._delegate=e},enumerable:!0,configurable:!0}),Object.defineProperty(BaseElement.prototype,"root",{get:function(){return this._root},set:function(e){this._root=e},enumerable:!0,configurable:!0}),Object.defineProperty(BaseElement.prototype,"parent",{get:function(){return this.provider.createFrom(this.delegate.parentElement)},enumerable:!0,configurable:!0}),BaseElement.prototype.clone=function(e){return void 0===e&&(e=!0),this.provider.createFrom(this.delegate.cloneNode(e))},BaseElement.prototype.remove=function(){return this.delegate.remove()},Object.defineProperty(BaseElement.prototype,"x",{get:function(){return this.delegate.getBoundingClientRect().left},enumerable:!0,configurable:!0}),Object.defineProperty(BaseElement.prototype,"y",{get:function(){return this.delegate.getBoundingClientRect().top},enumerable:!0,configurable:!0}),Object.defineProperty(BaseElement.prototype,"xOffset",{get:function(){return this.x-this.parent.x},enumerable:!0,configurable:!0}),Object.defineProperty(BaseElement.prototype,"yOffset",{get:function(){return this.y-this.parent.y},enumerable:!0,configurable:!0}),Object.defineProperty(BaseElement.prototype,"coordinates",{get:function(){return[this.x,this.y]},enumerable:!0,configurable:!0}),Object.defineProperty(BaseElement.prototype,"offsetCoordinates",{get:function(){return[this.xOffset,this.yOffset]},enumerable:!0,configurable:!0}),Object.defineProperty(BaseElement.prototype,"width",{get:function(){return this.delegate.getBoundingClientRect().width},enumerable:!0,configurable:!0}),Object.defineProperty(BaseElement.prototype,"height",{get:function(){return this.delegate.getBoundingClientRect().height},enumerable:!0,configurable:!0}),Object.defineProperty(BaseElement.prototype,"center",{get:function(){var e=this.delegate.getBoundingClientRect();return[e.width/2,e.height/2]},enumerable:!0,configurable:!0}),Object.defineProperty(BaseElement.prototype,"prev",{get:function(){return this.sibling("before")},enumerable:!0,configurable:!0}),Object.defineProperty(BaseElement.prototype,"next",{get:function(){return this.sibling("after")},enumerable:!0,configurable:!0}),BaseElement.prototype.sibling=function(e,t){void 0===e&&(e="after"),void 0===t&&(t=1);var r=null;return"after"==e?r=this.delegate.nextElementSibling:"before"==e&&(r=this.delegate.previousElementSibling),(r=r?new BaseElement(r,this.root,this.provider):null)&&1<t&&(r=r.sibling(e,--t)),r},Object.defineProperty(BaseElement.prototype,"HTML",{get:function(){return this.innerHTML},set:function(e){this.innerHTML=e},enumerable:!0,configurable:!0}),Object.defineProperty(BaseElement.prototype,"innerHTML",{get:function(){return this.delegate.innerHTML},set:function(e){this.delegate.innerHTML=e},enumerable:!0,configurable:!0}),Object.defineProperty(BaseElement.prototype,"outerHTML",{get:function(){return this.delegate.outerHTML},enumerable:!0,configurable:!0}),BaseElement.prototype.closestParent=function(e){var t=this.delegate.closest(e);return t?this.provider.createFrom(t):null},BaseElement.prototype.closestChild=function(e){var t=this.delegate.querySelector(e);return t?this.provider.createFrom(t):null},BaseElement.prototype.closest=function(e){var t=this.closestParent(e)||this.closestChild(e);return t||null},BaseElement.prototype.datum=function(e){return this.delegate.getAttribute("data-"+e)},BaseElement.prototype.data=function(){for(var t,e,r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var n={};try{for(var o=__values(r),s=o.next();!s.done;s=o.next()){var a=s.value;n[a]=this.datum(a)}}catch(e){t={error:e}}finally{try{s&&!s.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}return n},BaseElement.prototype.setDatum=function(e,t){this.delegate.setAttribute("data-"+e,t)},BaseElement.prototype.setData=function(e){var t,r;try{for(var i=__values(Object.keys(e)),n=i.next();!n.done;n=i.next()){var o=n.value;this.setDatum(o,e[o])}}catch(e){t={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}},BaseElement.prototype.removeDatum=function(e){this.delegate.removeAttribute("data-"+name)},BaseElement.prototype.removeData=function(e){var t,r;try{for(var i=__values(Object.keys(e)),n=i.next();!n.done;n=i.next()){var o=n.value;this.removeDatum(o)}}catch(e){t={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}},BaseElement.prototype.attr=function(e){return this.delegate.getAttribute(e)},BaseElement.prototype.setAttr=function(e,t){this.delegate.setAttribute(e,t)},BaseElement.prototype.addEventListener=function(e,t,r){return this.delegate.addEventListener(e,t,r)},BaseElement.prototype.removeEventListener=function(e,t){return this.delegate.removeEventListener(e,t)},BaseElement.prototype.appendTo=function(e){(e=e||this.parent).append(this)},BaseElement.prototype.append=function(e){this.delegate.appendChild(e.delegate)},BaseElement.prototype.insertBefore=function(e,t){void 0===t&&(t=null),this.delegate.insertBefore(e.delegate,t)},BaseElement.prototype.insertAfter=function(e){this.parent.insertBefore(e,this.parent.sibling().delegate)},BaseElement.prototype.querySelector=function(e){return this.delegate.querySelector(e)},BaseElement.prototype.querySelectorAll=function(e){return this.delegate.querySelectorAll(e)},BaseElement.prototype.getStyle=function(e){return window.getComputedStyle(this.delegate,e)},BaseElement.prototype.setStyle=function(e,t){this.delegate.style[e]=t},BaseElement.prototype.setStyles=function(e){var t,r;try{for(var i=__values(Object.keys(e)),n=i.next();!n.done;n=i.next()){var o=n.value;this.setStyle(o,e[o])}}catch(e){t={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}},BaseElement.prototype.removeStyle=function(e){this.setStyle(e,null)},BaseElement.prototype.removeStyles=function(e){var t,r;try{for(var i=__values(e),n=i.next();!n.done;n=i.next()){var o=n.value;this.removeStyle(o)}}catch(e){t={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}},BaseElement.prototype.getClass=function(t){return Array.from(this.delegate.classList).find(function(e){return e===t})},BaseElement.prototype.getClasses=function(){return Array.from(this.delegate.classList)},BaseElement.prototype.addClass=function(e){this.delegate.classList.add(e)},BaseElement.prototype.addClasses=function(e){var t;(t=this.delegate.classList).add.apply(t,__spread("string"==typeof e?e.split(" "):e))},BaseElement.prototype.removeClass=function(e){this.delegate.classList.remove(e)},BaseElement.prototype.removeClasses=function(e){var t;(t=this.delegate.classList).remove.apply(t,__spread("string"==typeof e?e.split(" "):e))},BaseElement.prototype.replaceClass=function(e,t){this.removeClass(e),this.addClass(t)},BaseElement.prototype.replaceClasses=function(e,t){this.removeClasses(e),this.addClasses(t)},BaseElement.prototype.toggleClass=function(e,t){var r=__read(this.hasClass(e)?[t,e]:[e,t],2),i=r[0],n=r[1];this.replaceClass(n,i)},BaseElement.prototype.hasClass=function(e){return this.delegate.classList.contains(e)},BaseElement.prototype.hasClasses=function(e){var t=this;return e.every(function(e){return t.hasClass(e)})},BaseElement.prototype.excludeClasses=function(e){var t=this;return(e="string"==typeof e?e.split(" "):e).filter(function(e){return!t.getClasses().includes(e)})},BaseElement.prototype.sameClasses=function(e){var t=this;return(e="string"==typeof e?e.split(" "):e).filter(function(e){return t.getClasses().includes(e)})},BaseElement.prototype._getEl=function(e){return(this._root?this.root.delegate||this.root:this.provider&&this.provider.root?this.provider.root:document).querySelector(e)},BaseElement);function BaseElement(e,t,r){this._provider=r,this._root=t;var i="string"==typeof e?this._getEl(e):e;this.delegate=i}t.BaseElement=c;var r=(Object.defineProperty(BaseElementList.prototype,"root",{get:function(){return this._root},set:function(e){this._root=e},enumerable:!0,configurable:!0}),Object.defineProperty(BaseElementList.prototype,"provider",{get:function(){return this._provider},set:function(e){this._provider=e},enumerable:!0,configurable:!0}),Object.defineProperty(BaseElementList.prototype,"first",{get:function(){return this.delegates[0]},enumerable:!0,configurable:!0}),Object.defineProperty(BaseElementList.prototype,"last",{get:function(){return this.delegates[this.delegates.length-1]},enumerable:!0,configurable:!0}),Object.defineProperty(BaseElementList.prototype,"length",{get:function(){return this.delegates.length},enumerable:!0,configurable:!0}),BaseElementList.prototype.index=function(e){return this.delegates[e]},BaseElementList.prototype.find=function(e){return this.delegates.find(e)},BaseElementList.prototype.addEventListener=function(e,t){var r,i;try{for(var n=__values(this.delegates),o=n.next();!o.done;o=n.next())o.value.addEventListener(e,t)}catch(e){r={error:e}}finally{try{o&&!o.done&&(i=n.return)&&i.call(n)}finally{if(r)throw r.error}}},BaseElementList.prototype.setAttr=function(e,t){var r,i;try{for(var n=__values(this.delegates),o=n.next();!o.done;o=n.next())o.value.setAttr(e,t)}catch(e){r={error:e}}finally{try{o&&!o.done&&(i=n.return)&&i.call(n)}finally{if(r)throw r.error}}},BaseElementList.prototype.setStyle=function(e,t){var r,i;try{for(var n=__values(this.delegates),o=n.next();!o.done;o=n.next())o.value.setStyle(e,t)}catch(e){r={error:e}}finally{try{o&&!o.done&&(i=n.return)&&i.call(n)}finally{if(r)throw r.error}}},BaseElementList.prototype._getEls=function(e){var t=(this._root?this.root.delegate||document:this.provider&&this.provider.root?this.provider.root:document).querySelectorAll(e);return Array.from(t)},BaseElementList);function BaseElementList(e,t,r){var i,n,o;this.delegates=[],this.selector="",this._provider=r,this._root=t;var s=c;o="string"==typeof e?(this.selector=e,this._getEls(e)):Array.from(e);try{for(var a=__values(o),l=a.next();!l.done;l=a.next()){var p=l.value;this.delegates.push(new s(p,t,r))}}catch(e){i={error:e}}finally{try{l&&!l.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}}t.BaseElementList=r}),define("lib/services/ux/service/animations/target",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=(Object.defineProperty(TransitionTarget.prototype,"transition",{get:function(){return this.step.transition},enumerable:!0,configurable:!0}),Object.defineProperty(TransitionTarget.prototype,"target",{get:function(){return"object"==typeof this.ref?this.ref:this.ref()},enumerable:!0,configurable:!0}),TransitionTarget.prototype.onBeforeStart=function(e){return this.states.onBeforeStart={cb:e},this},TransitionTarget.prototype.onBeforeComplete=function(e){return this.states.onBeforeComplete={cb:e},this},TransitionTarget.prototype.onStart=function(e,t,r){return this.states.onStart={addClasses:e,removeClasses:t,cb:r},this},TransitionTarget.prototype.onComplete=function(e,t,r){return this.states.onComplete={addClasses:e,removeClasses:t,cb:r},this},TransitionTarget.prototype.start=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.states.onBeforeStart.cb&&this.states.onBeforeStart.cb.apply(this);var r=this.states.onStart,i=r.addClasses&&this.target.excludeClasses(r.addClasses)||[],n=r.removeClasses&&this.target.sameClasses(r.removeClasses)||[];n.length&&this.target.removeClasses(n),this._addStartTransitionEvent(),this._addEndTransitionEvent(),i.length&&this.target.addClasses(i),r.cb&&r.cb.apply(this,this.transition.args||[]),i.length||n.length||this.complete()},TransitionTarget.prototype.complete=function(){this.states.onBeforeComplete.cb&&this.states.onBeforeComplete.cb.apply(this);var e=this.states.onComplete;e.removeClasses&&this.target.removeClasses(e.removeClasses),this._removeStartTransitionEvent(),this._removeEndTransitionEvent(),e.addClasses&&this.target.addClasses(e.addClasses),e.cb&&e.cb.apply(this),this.step.complete(this)},TransitionTarget.prototype.startTransitionEvent=function(e){this.processing.add(e.propertyName)},TransitionTarget.prototype.endTransitionEvent=function(e){this.processing.delete(e.propertyName),this.processing.size||this.complete()},TransitionTarget.prototype._addStartTransitionEvent=function(){this.listeners.start=this.startTransitionEvent.bind(this),this.target.addEventListener("transitionstart",this.listeners.start)},TransitionTarget.prototype._addEndTransitionEvent=function(){this.listeners.end=this.endTransitionEvent.bind(this),this.target.addEventListener("transitionend",this.listeners.end)},TransitionTarget.prototype._removeStartTransitionEvent=function(){this.target.removeEventListener("transitionstart",this.listeners.start)},TransitionTarget.prototype._removeEndTransitionEvent=function(){this.target.removeEventListener("transitionend",this.listeners.end)},TransitionTarget);function TransitionTarget(e,t){var r=this;this.states={onStart:{},onBeforeStart:{},onComplete:{},onBeforeComplete:{}},this.listeners={},this.processing=new Set,this.step=e,this.ref="string"==typeof t?function(){return r.transition.root.view.el(t,!0)}:t}t.TransitionTarget=r}),define("lib/services/ux/service/animations/step",["require","exports","lib/services/ux/service/animations/target"],function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=(TransitionStep.prototype.target=function(e){var t=new r.TransitionTarget(this,e);return this.targets.add(t),t},TransitionStep.prototype.start=function(e){for(var t,r,i=[],n=1;n<arguments.length;n++)i[n-1]=arguments[n];this.processing=new Set(this.targets);try{for(var o=__values(this.processing),s=o.next();!s.done;s=o.next()){var a=s.value;a.start.apply(a,__spread(i))}}catch(e){t={error:e}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}},TransitionStep.prototype.complete=function(e){this.processing.delete(e),this.processing.size||this.next(this)},TransitionStep.prototype.next=function(e){this.transition.next(e)},TransitionStep);function TransitionStep(e,t){void 0===t&&(t=""),this.targets=new Set,this.processing=new Set,this.name=t||e.length+"",this.transition=e}t.TransitionStep=i}),define("lib/core/components/strappable",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=(Strappable.prototype.strap=function(){this.canBeStrapped()&&(this.isStrapping=!0,this.isStrapped||this.hasBeenStrapped||this.onBeforeInitialStrap(),this.isStrapped||this.onBeforeStrap(),this.resolveAndStrap()&&(this.isStrapping=!1,this.isStrapped=!0,this.onStrap(),this.hasBeenStrapped||this.onInitialStrap(),this.isStrapped&&!this.hasBeenStrapped&&this.onAfterInitialStrap(),this.isStrapped&&this.onAfterStrap(),this.hasBeenStrapped=!0))},Strappable.prototype.canBeStrapped=function(){return!this.isStrapped},Strappable.prototype.resolveAndStrap=function(){return!0},Strappable.prototype.onInitialStrap=function(){},Strappable.prototype.onBeforeInitialStrap=function(){},Strappable.prototype.onAfterInitialStrap=function(){},Strappable.prototype.onStrap=function(){},Strappable.prototype.onBeforeStrap=function(){},Strappable.prototype.onAfterStrap=function(){},Strappable);function Strappable(){this.strapOnInitialize=!0,this.isStrapped=!1,this.isStrapping=!1,this.hasBeenStrapped=!1}t.Strappable=r}),define("lib/core/components/loadable",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=(Loadable.prototype.load=function(){this.canBeLoaded()&&(this.isLoading=!0,this.isLoaded||this.hasBeenLoaded||this.onBeforeInitialLoad(),this.isLoaded||this.onBeforeLoad(),this.resolveAndLoad()&&(this.isLoading=!1,this.isLoaded=!0,this.onLoad(),this.hasBeenLoaded||this.onInitialLoad(),this.isLoaded&&!this.hasBeenLoaded&&this.onAfterInitialLoad(),this.isLoaded&&this.onAfterLoad(),this.hasBeenLoaded=!0))},Loadable.prototype.canBeLoaded=function(){return!this.isLoaded},Loadable.prototype.resolveAndLoad=function(){return!0},Loadable.prototype.onInitialLoad=function(){},Loadable.prototype.onBeforeInitialLoad=function(){},Loadable.prototype.onAfterInitialLoad=function(){},Loadable.prototype.onLoad=function(){},Loadable.prototype.onBeforeLoad=function(){},Loadable.prototype.onAfterLoad=function(){},Loadable);function Loadable(){this.loadOnInitialize=!0,this.isLoaded=!1,this.isLoading=!1,this.hasBeenLoaded=!1}t.Loadable=r}),define("lib/helpers/strings",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=(UTF8.findSequence=function(e,t,r){void 0===e&&(e=[]),void 0===t&&(t=[]),void 0===r&&(r=0);var i=t.length-1,n=t[i],o=t[0],s=new Set(t),a=[];e:for(var l=r,p=e.length;l+i<p;l++){var c=e[l+i],u=[];if(c==n){if(e[l]==o){for(var d=i-1;1<=d;d--)if(c=e[l+d],u.push([l,c,t[d]]),c!=t[d]){s.has(c)||(l+=i);continue e}i<=l&&a.push(l)}}else s.has(c)||(l+=i)}return a},UTF8.decodeEntities=function(e){return e.replace(/&#(\d+);/g,function(e,t){return String.fromCharCode(t)})},UTF8.decodeUTF8ToStr=function(e){for(var t="",r=0,i=e.length;r<i;r++){var n=e[r].toString(16);n.length<2&&(n="0"+n),t+="%"+n}return decodeURIComponent(t)},UTF8.filterUnsafeUnicode=function(e){for(var t=e,r=["&#55357;","&#55358;"],i=0,n=r.length;i<n;i++){var o=new RegExp(r[i]+"&#[0-9]{5};","gi");t=t.replace(o,function(e){return"[U+"+e.substring(10,e.lastIndexOf(";"))+"]"})}return t},UTF8.encodeStrToUTF8=function(e){for(var t=encodeURIComponent(e),r=[],i=0,n=t.length;i<n;i++)"%"==t.charAt(i)?(r.push(parseInt(t.substring(i+1,i+3),16)),i+=2):r.push(t.charCodeAt(i));return r},UTF8.encodeStrToHexUTF8=function(e){for(var t=this.encodeStrToUTF8(e),r="",i=0,n=t.length;i<n;i++)r+=(t[i]<16?"0":"")+t[i].toString(16);return r},UTF8);function UTF8(){}t.UTF8=r;var i=(Strings.format=function(e){for(var r=[],t=1;t<arguments.length;t++)r[t-1]=arguments[t];if("object"==typeof r[0])for(var i in r[0])e=e.replace(new RegExp("\\{"+i+"\\}","gi"),r[0][i]);else e=e.replace(/{(\d+)}/g,function(e,t){return void 0!==r[t]?r[t]:e});return e},Strings.matchAll=function(e,t,r){var i,n;if(r=r||[],"string"==typeof e){var o=e.match(t);o&&(r.push(__spread(o)),Strings.matchAll(e.substr(o.index+o[0].length),t,r))}else try{for(var s=__values(e),a=s.next();!a.done;a=s.next()){var l=a.value;r.push(__spread(l.match(t)))}}catch(e){i={error:e}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return r},Strings.capitalize=function(e){return"string"!=typeof e?"":e.charAt(0).toUpperCase()+e.slice(1)},Strings);function Strings(){}t.Strings=i}),define("lib/helpers/common",["require","exports","lib/helpers/strings"],function(e,t,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.assert=function assert(e,t){e&&console.log(t)},t.Mixin=function Mixin(a){for(var l=[],e=1;e<arguments.length;e++)l[e-1]=arguments[e];var p=__assign({},a.prototype);l.forEach(function(r){var t,e;Object.getOwnPropertyNames(r.prototype).forEach(function(e){var t=Object.getOwnPropertyDescriptor(r.prototype,e);t&&!Object.getOwnPropertyDescriptor(p,e)&&Object.defineProperty(a.prototype,e,t)});try{var i=[];i=-1!=r.toString().indexOf("\n")?__spread(c.Strings.matchAll(r.toString(),/this.(.+) = (.+);/)):__spread(c.Strings.matchAll(r.toString().match(/{(.+)}/)[1].split(/(?=,this.)/).map(function(e){return e.startsWith(",")?e.substr(1):e}),/this\.([^=]+)=(.+)/));try{for(var n=__values(i),o=n.next();!o.done;o=n.next()){var s=o.value;Object.getOwnPropertyDescriptor(p,s[1])||(a.prototype[s[1]]=Function('"use strict";return '+s[2])())}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}}catch(e){}a.prototype.__MRO__=a.prototype.___MRO__?__spread(l,a.prototype.__MRO__):__spread(l)})}}),define("lib/helpers/objects",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=(Objects.diffKeys=function(e,t){return Object.keys(e).filter(function(e){return void 0===t[e]})},Objects.diff=function(e,t){var r,i,n=Objects.diffKeys(e,t),o={};try{for(var s=__values(n),a=s.next();!a.done;a=s.next()){var l=a.value;o[l]=e[l]}}catch(e){r={error:e}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}return o},Objects);function Objects(){}t.Objects=r}),define("lib/helpers/crypto/uuid",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=(UUID.make=function(){return UUID.getFn()()},UUID.getFn=function(){var e=UUID.timeUUID;return window.crypto&&window.crypto.getRandomValues&&(e=UUID.cryptoUUID),e},UUID.cryptoUUID=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[x]/g,function(e){return(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)})},UUID.timeUUID=function(){return Date.now(),"function"==typeof performance.now&&performance.now(),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[x]/g,function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString()})},UUID);function UUID(){}t.UUID=r}),define("lib/helpers/requests/response",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});function ag(e,t,r,i){void 0===r&&(r=!0),this.isSuccessful=!0,this.request=e,this.payload=t,this.isSuccessful=r,i&&(this.status=i)}t.HttpResponse=ag}),define("lib/helpers/requests/request",["require","exports","lib/helpers/requests/response"],function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=(HttpRequest.prototype.strap=function(){var e=this;this.XHR.open(this.method,this.uri,!0),this.XHR.onload=function(){200<=e.XHR.status&&e.XHR.status<300?e.resolve(e.XHR.response,e.XHR.status):e.reject(e.XHR.statusText,e.XHR.status)},this.XHR.setRequestHeader("X-Requested-With","XMLHttpRequest")},Object.defineProperty(HttpRequest.prototype,"resolve",{get:function(){return this._resolve},enumerable:!0,configurable:!0}),Object.defineProperty(HttpRequest.prototype,"reject",{get:function(){return this._reject},enumerable:!0,configurable:!0}),Object.defineProperty(HttpRequest.prototype,"pending",{get:function(){return this._promise},enumerable:!0,configurable:!0}),Object.defineProperty(HttpRequest.prototype,"isComplete",{get:function(){return!this.isPending},enumerable:!0,configurable:!0}),HttpRequest.prototype.send=function(){return this.isPending=!0,"POST"===this.method?this.XHR.send(this.payload):this.XHR.send(),this._promise},HttpRequest.prototype.onComplete=function(e,t){return this.isPending=!1,this.isResolved=!0,this.response=new r.HttpResponse(this,e,!0,t),this.cb?this.cb(this.response):this.response},HttpRequest.prototype.onRejected=function(e,t){return this.isPending=!1,this.isRejected=!0,this.response=new r.HttpResponse(this,e,!1,t),this.cb?this.cb(this.response):this.response},HttpRequest);function HttpRequest(e,t,r,i){var n=this;void 0===i&&(i="GET"),this.response=null,this.isResolved=!1,this.isRejected=!1,this.isPending=!1,this.XHR=new XMLHttpRequest,this.uri=e,this.method=i,this.payload=r,this.cb=t,this._promise=new Promise(function(e,t){n._resolve=e,n._reject=t}).then(this.onComplete.bind(this),this.onRejected.bind(this)),this.strap()}t.HttpRequest=i}),define("lib/helpers/requests/resolver",["require","exports","lib/helpers/requests/request"],function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=(Object.defineProperty(Resolver.prototype,"uri",{get:function(){return window.location.href},enumerable:!0,configurable:!0}),Object.defineProperty(Resolver.prototype,"path",{get:function(){return window.location.pathname},enumerable:!0,configurable:!0}),Object.defineProperty(Resolver.prototype,"origin",{get:function(){return window.location.origin},enumerable:!0,configurable:!0}),Object.defineProperty(Resolver.prototype,"segments",{get:function(){var e=this.path.split("/");return e.length?e.slice(1):[]},enumerable:!0,configurable:!0}),Resolver.prototype.segment=function(e){return this.segments[e-1]},Resolver.prototype.request=function(e,t,r,i,n){return e=n?n+e:this.origin+"/"+e,new o.HttpRequest(e,t,r,i)},Resolver.prototype.get=function(e,t,r,i){var n=this.request(e,t,r,"GET",i);return n.send(),n._promise},Resolver.prototype.post=function(e,t,r,i){var n=this.request(e,t,r,"POST",i);return n.send(),n._promise},Resolver);function Resolver(){}t.Resolver=r}),define("lib/helpers",["require","exports","lib/helpers/common","lib/helpers/strings","lib/helpers/objects","lib/helpers/crypto/uuid","lib/helpers/requests/resolver","lib/helpers/requests/request","lib/helpers/requests/response"],function(e,t,r,i,n,o,s,a,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.assert=r.assert,t.Mixin=r.Mixin,t.UTF8=i.UTF8,t.Strings=i.Strings,t.Objects=n.Objects,t.UUID=o.UUID,t.Resolver=s.Resolver,t.HttpRequest=a.HttpRequest,t.HttpResponse=l.HttpResponse}),define("lib/core/components/initializable",["require","exports","lib/core/components/strappable","lib/core/components/loadable","lib/helpers"],function(e,t,r,i,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=(Initializable.prototype.init=function(){this.isInitializing=!0,this.onBeforeInit(),this.resolveAndInit()&&(this.isInitializing=!1,this.isInitialized=!0,this.onInit(),this.onAfterInit())},Initializable.prototype.onInit=function(){},Initializable.prototype.onBeforeInit=function(){},Initializable.prototype.onAfterInit=function(){},Initializable.prototype.resolveAndInit=function(){return this.strapOnInitialize&&this.strap(),this.loadOnInitialize&&this.load(),this.isStrapped&&this.isLoaded},Initializable);function Initializable(){this.isInitialized=!1,this.isInitializing=!1}t.Initializable=o,n.Mixin(o,r.Strappable,i.Loadable)}),define("lib/core/components/observable",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=(Observable.prototype.onChanged=function(e){var t,r;try{for(var i=__values(e),n=i.next();!n.done;n=i.next()){var o=n.value;switch(o.type){case"childList":this.onChangedChildList(o)}}}catch(e){t={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}},Observable.prototype.onChangedChildList=function(e){var t,r,i,n;if(e.removedNodes.length)try{for(var o=__values(Object.values(e.removedNodes)),s=o.next();!s.done;s=o.next()){var a=s.value;this.onRemovedChild(a)}}catch(e){t={error:e}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}if(e.addedNodes.length)try{for(var l=__values(Object.values(e.addedNodes)),p=l.next();!p.done;p=l.next())a=p.value,this.onAddedChild(a)}catch(e){i={error:e}}finally{try{p&&!p.done&&(n=l.return)&&n.call(l)}finally{if(i)throw i.error}}},Observable.prototype.onAddedChild=function(e,t){},Observable.prototype.onRemovedChild=function(e,t){},Observable);function Observable(){}t.Observable=r}),define("lib/core/components/stateful",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),define("lib/core/components/application",["require","exports","lib/core/components/component"],function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,n=(i=r.BaseComponent,__extends(BaseApplication,i),BaseApplication.prototype.resolveAndLoad=function(){var t,e,r=!0;if("function"==typeof this.view&&(this.view=new this._view,this.view.init(),this.view.isInitialized||(this.view.signals.once("view:init:after",this.resolveInitializedView.bind(this,this.view)),r=!1)),r&&this.canInitializeChildren)try{for(var i=__values(Object.values(this._children)),n=i.next();!n.done;n=i.next()){var o=n.value;this.initializeChild(o)||(r=!1)}}catch(e){t={error:e}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}else r=!1;if(r){for(var s in this.routes)this.router.createRoute(this.routes[s],s);this.router._process(this,!0)}return r},BaseApplication);function BaseApplication(){var e=null!==i&&i.apply(this,arguments)||this;return e.name="app",e.routes={},e}t.BaseApplication=n}),define("lib/core/controllers/controller",["require","exports","lib/core/components/initializable","lib/helpers"],function(e,t,r,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});function Yh(){this.name="cont"}t.Controller=Yh,i.Mixin(Yh,r.Initializable)}),define("lib/services/signals/service/radio",["require","exports","lib/services","lib/helpers"],function(e,t,s,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=(Object.defineProperty(Radio.prototype,"spectrums",{get:function(){return this.parent?this.parent._spectrums:this._spectrums},enumerable:!0,configurable:!0}),Object.defineProperty(Radio.prototype,"frequencies",{get:function(){return this._frequencies},enumerable:!0,configurable:!0}),Object.defineProperty(Radio.prototype,"spectrum",{get:function(){return this._spectrum},set:function(e){this._spectrum=e},enumerable:!0,configurable:!0}),Object.defineProperty(Radio.prototype,"frequency",{get:function(){return this._frequency},set:function(e){this._frequency=e},enumerable:!0,configurable:!0}),Object.defineProperty(Radio.prototype,"channel",{get:function(){return this._channel},set:function(e){this._channel=e},enumerable:!0,configurable:!0}),Radio.prototype.subscribe=function(e,a,t){for(var l=this,p=[],r=3;r<arguments.length;r++)p[r-3]=arguments[r];t.receivers.forEach(function(e,t){var r,i;try{for(var n=__values(e),o=n.next();!o.done;o=n.next()){var s=o.value;s.subscribe.apply(s,__spread([a,l.uuid],p))}}catch(e){r={error:e}}finally{try{o&&!o.done&&(i=n.return)&&i.call(n)}finally{if(r)throw r.error}}})},Radio.prototype.subscribeTemporary=function(e,a,t){for(var l=this,p=[],r=3;r<arguments.length;r++)p[r-3]=arguments[r];t.receivers.forEach(function(e,t){var r,i;try{for(var n=__values(e),o=n.next();!o.done;o=n.next()){var s=o.value;s.subscribeTemporary.apply(s,__spread([a,l.uuid],p))}}catch(e){r={error:e}}finally{try{o&&!o.done&&(i=n.return)&&i.call(n)}finally{if(r)throw r.error}}})},Radio.prototype.registerSpectrum=function(e,t){return this.spectrums[e]=t||new s.Spectrum(e),this.spectrums[e]},Radio.prototype.createBroadcast=function(e,t){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return new s.Broadcast(this,e,t)},Radio);function Radio(e,t,r,i,n){var o;void 0===e&&(e=null),void 0===t&&(t=""),void 0===r&&(r="global"),void 0===i&&(i="base"),void 0===n&&(n="std"),this.name="",this.source="",this.uuid=a.UUID.make(),this._spectrums={},this._frequencies={},this.name=t,this.parent=e,r&&(this.source+=r+"|"),i&&(this.source+=i),n&&(this.source+=this.source?" #"+n:"#"+n),o=e?new s.Broadcast(e,void 0,this.source):new s.Broadcast(this),this.spectrum=o.spectrum,this.frequency=o.frequency,this.channel=o.channels[0]}t.Radio=r}),define("lib/services/signals/service/operation",["require","exports","lib/services"],function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=(Object.defineProperty(Operation.prototype,"input",{get:function(){return this.broadcast.input},enumerable:!0,configurable:!0}),Object.defineProperty(Operation.prototype,"before",{get:function(){return this._before},set:function(e){this._before=e},enumerable:!0,configurable:!0}),Object.defineProperty(Operation.prototype,"after",{get:function(){return this._after},set:function(e){this._after=e},enumerable:!0,configurable:!0}),Operation.prototype.resolve=function(){for(var t,e,r=this,i=[],n=0;n<arguments.length;n++)i[n]=arguments[n];var o;this.before&&this.before.resolve();try{for(var s=__values(this.pending),a=s.next();!a.done;a=s.next()){var l=a.value;o=l,r.resolveRepeater.apply(r,__spread([o.name,o],i))}}catch(e){t={error:e}}finally{try{a&&!a.done&&(e=s.return)&&e.call(s)}finally{if(t)throw t.error}}this.after&&this.after.resolve()},Operation.prototype.resolved=function(e,t){this.pending.delete(t),this.completed.add(t),t.destroyAfter&&t.receiver.remove(t)},Operation.prototype.resolveRepeater=function(e,t){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];this.results[e]=t.trigger.apply(t,__spread(r)),this.resolved(e,t),this.pending.delete(t),this.completed.add(t)},Operation.prototype._definePending=function(){var d=this;this.broadcast.receivers.forEach(function(e,t){var r,i,n,o;try{for(var s=__values(e),a=s.next();!a.done;a=s.next()){var l=a.value;try{for(var p=(n=void 0,__values(Object.values(l.repeaters))),c=p.next();!c.done;c=p.next()){var u=c.value;u.signature&&d.broadcast.signatures.length&&!d.broadcast.signatures.includes(u.signature)||d.pending.add(u)}}catch(e){n={error:e}}finally{try{c&&!c.done&&(o=p.return)&&o.call(p)}finally{if(n)throw n.error}}}}catch(e){r={error:e}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}})},Object.defineProperty(Operation.prototype,"isComplete",{get:function(){return!this.pending.size},enumerable:!0,configurable:!0}),Object.defineProperty(Operation.prototype,"isIncomplete",{get:function(){return this.pending.size},enumerable:!0,configurable:!0}),Operation);function Operation(e,t,r,i){void 0===i&&(i=!0);for(var n=[],o=4;o<arguments.length;o++)n[o-4]=arguments[o];this.pending=new Set,this.completed=new Set,this.results={},this.radio=e,this.broadcast=new s.Broadcast(e,t,r),this.args=n,this.broadcast.hasRepeatersBefore&&(this.before=new(Operation.bind.apply(Operation,__spread([void 0,e,t+":before",r,!1],n)))),this.broadcast.hasRepeatersAfter&&(this.after=new(Operation.bind.apply(Operation,__spread([void 0,e,t+":after",r,!1],n)))),this._definePending(),i&&this.resolve.apply(this,__spread(n))}t.Operation=r}),define("lib/services/signals/signal",["require","exports","lib/services/signals/signals.service"],function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Signal=function Signal(e,t){for(var r,i=[],n=2;n<arguments.length;n++)i[n-2]=arguments[n];return(r=o.SignalsService.binder).bind.apply(r,__spread([e,t],i))}}),define("lib/services/binder",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function Annotation(e,t){this.origin=e,this.data=t};t.Annotation=r;var i=(Binder.prototype.bind=function(){for(var s=[],e=0;e<arguments.length;e++)s[e]=arguments[e];var a=this;return function(){for(var e,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];e=1<t.length?function(){return a.bindProperty.apply(a,__spread(t,s))}:function(){return a.bindCls.apply(a,__spread(t,s))};var i=__read(e(),2),n=i[0],o=i[1];return o&&a.annotations.push(o),n}},Binder.prototype.bindCls=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return[e,null]},Binder.prototype.bindProperty=function(e,t,r){for(var i=[],n=3;n<arguments.length;n++)i[n-3]=arguments[n];return[r,null]},Binder.prototype.annotation=function(e,t){return new r(e,t)},Binder.prototype.link=function(e){this.annotations.push(e)},Binder.prototype.process=function(e){var t,r,i=this._findPredicate(e);try{for(var n=__values(Object.values(i)),o=n.next();!o.done;o=n.next()){var s=o.value;this.processAnnotation(e,s.data,s)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(t)throw t.error}}},Binder.prototype.processAnnotation=function(e,t,r){},Binder.prototype._findPredicate=function(t){return this.annotations.filter(function(e){return e.origin===t.constructor.prototype||e.origin===t.constructor})},Binder);function Binder(){this.annotations=[]}t.Binder=i}),define("lib/services/signals/signals.binder",["require","exports","lib/services/binder"],function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,n=(i=r.Binder,__extends(SignalsBinder,i),SignalsBinder.prototype.bindCls=function(e,t,r){for(var i=[],n=3;n<arguments.length;n++)i[n-3]=arguments[n];var o={signal:t,scope:r,isTrigger:!1,method:null};return[e,this.annotation(e,o)]},SignalsBinder.prototype.bindProperty=function(e,t,r,i,n){for(var o=[],s=5;s<arguments.length;s++)o[s-5]=arguments[s];var a=r,l={signal:i,scope:n,isTrigger:!t.startsWith("on"),method:t};return[a,this.annotation(e,l)]},SignalsBinder.prototype.processAnnotation=function(r,i){if(r&&i.method)if(i.isTrigger){var n=r[i.method];r[i.method]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];n.apply(void 0,__spread(e)),r.signal.op(i.signal)}}else{var e=r.signals;e&&(!i.signal.endsWith(":before")&&i.method.startsWith("onBefore")?e.on(i.signal+":before",r[i.method].bind(r)):!i.signal.endsWith(":after")&&i.method.startsWith("onAfter")?e.on(i.signal+":after",r[i.method].bind(r)):e.on(i.signal,r[i.method].bind(r)))}},SignalsBinder);function SignalsBinder(){return null!==i&&i.apply(this,arguments)||this}t.SignalsBinder=n}),define("lib/services/signals/signals.service",["require","exports","lib/services/service","lib/services/signals/service/radio","lib/services/signals/service/operation","lib/services/signals/signals.binder"],function(e,t,r,i,o,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s,a=(s=r.Service,__extends(SignalsService,s),SignalsService.prototype.broadcast=function(e,t){for(var r,i=[],n=2;n<arguments.length;n++)i[n-2]=arguments[n];return(r=this.radio).createBroadcast.apply(r,__spread([e,t||"~"+this.radio.uuid+"~"],i))},SignalsService.prototype.op=function(e,t,r){void 0===r&&(r=!0);for(var i=[],n=3;n<arguments.length;n++)i[n-3]=arguments[n];return new(o.Operation.bind.apply(o.Operation,__spread([void 0,this.radio,e,t||"~"+this.radio.uuid+"~",r],i)))},SignalsService.prototype.on=function(e,t,r){for(var i,n,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];var a=(i=this.radio).createBroadcast.apply(i,__spread([e,r||"~"+this.radio.uuid+"~"],o));(n=this.radio).subscribe.apply(n,__spread([e,t,a],o))},SignalsService.prototype.once=function(e,t,r){for(var i,n,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];var a=(i=this.radio).createBroadcast.apply(i,__spread([e,r||"~"+this.radio.uuid+"~"],o));(n=this.radio).subscribeTemporary.apply(n,__spread([e,t,a],o))},SignalsService.prototype._process=function(){SignalsService.binder.process(this.provider)},SignalsService.binder=new n.SignalsBinder,SignalsService);function SignalsService(e){var t,r=s.call(this)||this;return r.provider=e,r.radio=new i.Radio(null!==(t=r.provider.parent)&&void 0!==t&&t.signals?r.provider.parent.signals.radio:null),r}t.SignalsService=a}),define("lib/services/templates/template",["require","exports","lib/services/templates/templates.service"],function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Template=function Template(e,t,r){var i;void 0===r&&(r=!0);for(var n=[],o=3;o<arguments.length;o++)n[o-3]=arguments[o];return(i=s.TemplatesService.binder).bind.apply(i,__spread([e,t,r],n))}}),define("lib/services/templates/templates.binder",["require","exports","lib/services/binder"],function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,n=(i=r.Binder,__extends(TemplatesBinder,i),TemplatesBinder.prototype.bindCls=function(e,t,r,i){void 0===i&&(i=!0);for(var n=[],o=4;o<arguments.length;o++)n[o-4]=arguments[o];var s={name:t,tmpl:r,isUri:i,args:n};return[e,this.annotation(e,s)]},TemplatesBinder.prototype.processAnnotation=function(e,t){var r=e.templates.create(t.isUri?this._resolveRemote.bind(this,e,t.tmpl):t.tmpl,t.name);e.templates.tmpl=r},TemplatesBinder.prototype._resolveRemote=function(i,e,n){var t=i.templates.resolver.request(e,function(){for(var e,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];n.apply(void 0,__spread(t)),(e=i.signals).op.apply(e,__spread(["tmpl:resolved",void 0,!0],t))});return t.send(),t},TemplatesBinder);function TemplatesBinder(){return null!==i&&i.apply(this,arguments)||this}t.TemplatesBinder=n}),define("lib/services/templates/service/template",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=(Object.defineProperty(BaseTemplate.prototype,"raw",{get:function(){return this._raw},set:function(e){this._raw=e},enumerable:!0,configurable:!0}),Object.defineProperty(BaseTemplate.prototype,"processed",{get:function(){return this._processed},set:function(e){this._processed=e},enumerable:!0,configurable:!0}),Object.defineProperty(BaseTemplate.prototype,"tmpl",{get:function(){return this._tmpl},set:function(e){this._tmpl=e},enumerable:!0,configurable:!0}),Object.defineProperty(BaseTemplate.prototype,"hasRawTemplate",{get:function(){return null!=this.raw},enumerable:!0,configurable:!0}),Object.defineProperty(BaseTemplate.prototype,"hasTemplate",{get:function(){return null!=this.tmpl},enumerable:!0,configurable:!0}),Object.defineProperty(BaseTemplate.prototype,"hasBeenProcessed",{get:function(){return null!=this.processed},enumerable:!0,configurable:!0}),BaseTemplate.prototype.resolve=function(){for(var t=this,r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return this.pending=this.resolver(function(e){t.compileFrom.apply(t,__spread([e.payload],r))}),this.pending},BaseTemplate.prototype.compileFrom=function(e,t){void 0===t&&(t=!0);for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];delete this.pending,this._raw=e,this._tmpl=Handlebars.compile(e)},BaseTemplate.prototype.process=function(e){void 0===e&&(e={});for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return this.processed=this.tmpl.apply(this,__spread([e],t)),this.processed},BaseTemplate.prototype.processAfterAvailable=function(t,r){void 0===r&&(r={});for(var i=[],e=2;e<arguments.length;e++)i[e-2]=arguments[e];return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){switch(e.label){case 0:return[4,this.pending];case 1:return e.sent(),t(this.process.apply(this,__spread([r],i))),[2]}})})},BaseTemplate);function BaseTemplate(e,t){this.name="",this._engine=Handlebars,"string"==typeof e?this.compileFrom(e):this.resolver=e,t&&(this.name=t)}t.BaseTemplate=r}),define("lib/services/templates/templates.service",["require","exports","lib/services/service","lib/services/templates/templates.binder","lib/services/templates/service/template","lib/helpers/requests/resolver"],function(e,t,r,i,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s,a=(s=r.Service,__extends(TemplatesService,s),Object.defineProperty(TemplatesService.prototype,"tmpl",{get:function(){return this._tmpl},set:function(e){this._tmpl=e},enumerable:!0,configurable:!0}),Object.defineProperty(TemplatesService.prototype,"named",{get:function(){return this._named},set:function(e){this._named=e},enumerable:!0,configurable:!0}),TemplatesService.prototype.create=function(e,t,r){void 0===t&&(t=""),void 0===r&&(r=!1);var i=new n.BaseTemplate(e,t);return t&&(!this.named[t]||this.named[t]&&r)&&(this.named[t]=i),i},TemplatesService.prototype.createFrom=function(e,t,r,i){void 0===i&&(i=!1);var n=document.createElement("div");n.innerHTML=this.template(e).raw;var o=n.querySelector(r);return o?this.create(o.outerHTML,t,i):null},TemplatesService.prototype.process=function(e){for(var t,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];return(t=this.named[e]).process.apply(t,__spread(r))},TemplatesService.prototype.processAfterAvailable=function(e,t){for(var r,i=[],n=2;n<arguments.length;n++)i[n-2]=arguments[n];return(r=this.named[e]).processAfterAvailable.apply(r,__spread([t],i))},TemplatesService.prototype.template=function(e){return this.named[e]},TemplatesService.prototype.resolve=function(e,t){void 0===t&&(t=!1),e.templates.tmpl&&e.templates.tmpl.resolver&&(!t&&e.tmpl.hasTemplate||(e.signals.once("tmpl:resolved",e.resolveLoadedTemplate.bind(e)),e.templates.tmpl.resolve()))},TemplatesService.prototype.bindHelpers=function(){var i=this;this.engine.registerHelper("ifEquals",function(e,t,r){return e===t?r.fn(i):r.inverse(i)}),this.engine.registerHelper("ifNotEquals",function(e,t,r){return e!==t?r.fn(i):r.inverse(i)}),this.engine.registerHelper("op",function(e,t,r,i){var n=t;switch(e){case"+":n=t+r}return n}),this.engine.registerHelper("encode",function(e){return new i.engine.SafeString(e)}),this.engine.registerHelper("decode",function(e){var t=document.createElement("textarea");return t.innerHTML=e,t.value}),this.engine.registerHelper("listContains",function(e,t,r){return-1<t.indexOf(e)?r.fn(i):r.inverse(i)}),this.engine.registerHelper("listAbsent",function(e,t,r){return-1==t.indexOf(e)?r.fn(i):r.inverse(i)})},TemplatesService.prototype._process=function(){TemplatesService.binder.process(this.provider)},TemplatesService.binder=new i.TemplatesBinder,TemplatesService);function TemplatesService(e){var t=s.call(this)||this;return t.provider=e,t.engine=Handlebars,t.resolver=new o.Resolver,t._named={},t.bindHelpers(),e.parent&&(t.named=e.parent.templates.named),t}t.TemplatesService=a}),define("lib/core/components/view",["require","exports","lib/core/components/initializable","lib/core/components/viewable","lib/services/ux/element.service","lib/services/servicable","lib/core/components/observable","lib/services/signals/signals.service","lib/services/templates/templates.service","lib/helpers"],function(e,t,r,i,n,o,s,a,l,p){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var c=(Object.defineProperty(View.prototype,"com",{get:function(){var e;return this._com||(null===(e=this.parent)||void 0===e?void 0:e.com)},set:function(e){this._com=e},enumerable:!0,configurable:!0}),Object.defineProperty(View.prototype,"app",{get:function(){return this._app},set:function(e){this._app=e},enumerable:!0,configurable:!0}),Object.defineProperty(View.prototype,"ux",{get:function(){return this._ux},set:function(e){this._ux=e},enumerable:!0,configurable:!0}),Object.defineProperty(View.prototype,"signals",{get:function(){return this._signals},set:function(e){this._signals=e},enumerable:!0,configurable:!0}),Object.defineProperty(View.prototype,"canInitializeChildren",{get:function(){var e,t;return null!==(t=null===(e=this.templates)||void 0===e?void 0:e.tmpl)&&void 0!==t&&t.resolver?this.isStrapped&&void 0===this.templates.tmpl.pending:this.isStrapped},enumerable:!0,configurable:!0}),View.prototype.init=function(){(i.Viewable.prototype.init||r.Initializable.prototype.init).bind(this)(),this.isInitialized&&this.signals.op("view:init")},View.prototype.strap=function(){(i.Viewable.prototype.strap||r.Initializable.prototype.strap).bind(this)(),this.isStrapped&&this.signals.op("view:strap")},View.prototype.load=function(){(i.Viewable.prototype.load||r.Initializable.prototype.load).bind(this)(),this.isLoaded&&this.signals.op("view:load")},View.prototype.el=function(e,t){void 0===t&&(t=!0);try{return this.ux.el(e,t)}catch(e){}},View.prototype.list=function(e,t){void 0===t&&(t=!0);try{return this.ux.list(e,t)}catch(e){}},View.prototype.resolveAndInit=function(){return this.strapOnInitialize&&this.strap(),this.loadOnInitialize&&this.load(),this.showOnInitialize&&this.show(),this.hideOnInitialize&&this.hide(),this.isStrapped&&this.isLoaded},View.prototype.resolveAndStrap=function(){return this.discoverChildViews(),this.ux=new n.ElementsService(this),this.signals=new a.SignalsService(this),this.templates=new l.TemplatesService(this),this.signals._process(),this.templates._process(),!0},View.prototype.resolveAndLoad=function(){var t,e,r=!0;if(this.templates.resolve(this),this.canInitializeChildren)try{for(var i=__values(Object.values(this._children)),n=i.next();!n.done;n=i.next()){var o=n.value;this.initializeChild(o)||(r=!1)}}catch(e){t={error:e}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}else r=!1;return r&&(this.ux._normalizePins(),this.ux.updateAll(),this.ux._process()),r},View.prototype.resolveAndShow=function(){return this.attach(),this.isAttached},View.prototype.resolveAndAttach=function(){return this.parent&&(this.parent.ux.root.innerHTML=this.ux.root.innerHTML),!0},View);function View(e){this._parent=e,this.name="view",this._children={}}t.View=c,p.Mixin(c,r.Initializable,o.Servicable,s.Observable,i.Viewable)}),define("lib/core/components/view_list",["require","exports","lib/core/components/initializable","lib/core/components/view","lib/core/components/viewable","lib/services/ux/element.service","lib/helpers","lib/services/servicable","lib/core/components/observable","lib/services/signals/signals.service","lib/services/templates/templates.service"],function(e,t,r,i,n,o,s,a,l,p,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u=(Object.defineProperty(ListView.prototype,"ux",{get:function(){return this._ux},set:function(e){this._ux=e},enumerable:!0,configurable:!0}),Object.defineProperty(ListView.prototype,"signals",{get:function(){return this._signals},set:function(e){this._signals=e},enumerable:!0,configurable:!0}),Object.defineProperty(ListView.prototype,"com",{get:function(){var e;return this._com||(null===(e=this.parent)||void 0===e?void 0:e.com)},set:function(e){this._com=e},enumerable:!0,configurable:!0}),Object.defineProperty(ListView.prototype,"app",{get:function(){return this._app},set:function(e){this._app=e},enumerable:!0,configurable:!0}),ListView.prototype.factory=function(e){var t,r=this;return t=i.View,__extends(ListItemView,t),ListItemView.prototype.resolveAndStrap=function(){return this.ux=new o.ElementsService(this,r.ux.createFrom(e),!0),this.signals=new p.SignalsService(this),!0},ListItemView;function ListItemView(){var e=null!==t&&t.apply(this,arguments)||this;return e.pins=r._listPins,e}},ListView.prototype.findAndAddListItems=function(){var t,e,r=this.ux.root.querySelectorAll(this._listSelector);try{for(var i=__values(Object.values(r)),n=i.next();!n.done;n=i.next()){var o=n.value;this.addListItem(o)}}catch(e){t={error:e}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}},ListView.prototype.onRemovedChild=function(t){var e=this.listed.findIndex(function(e){return e.ux.root.delegate===t});0<=e&&this.listed.splice(e,1)},ListView.prototype.addListItem=function(e){var t=new(this.factory(e))(this);this.listed.push(t),t.init()},Object.defineProperty(ListView.prototype,"canInitializeChildren",{get:function(){var e,t;return null!==(t=null===(e=this.templates)||void 0===e?void 0:e.tmpl)&&void 0!==t&&t.resolver?this.isStrapped&&void 0===this.templates.tmpl.pending:this.isStrapped},enumerable:!0,configurable:!0}),ListView.prototype.init=function(){(n.Viewable.prototype.init||r.Initializable.prototype.init).bind(this)(),this.isInitialized&&this.signals.op("view:init")},ListView.prototype.strap=function(){(n.Viewable.prototype.strap||r.Initializable.prototype.strap).bind(this)(),this.isStrapped&&this.signals.op("view:strap")},ListView.prototype.load=function(){(n.Viewable.prototype.load||r.Initializable.prototype.load).bind(this)(),this.isLoaded&&this.signals.op("view:load")},ListView.prototype.el=function(e,t){void 0===t&&(t=!0);try{return this.ux.el(e,t)}catch(e){}},ListView.prototype.list=function(e,t){void 0===t&&(t=!0);try{return this.ux.list(e,t)}catch(e){}},ListView.prototype.resolveAndInit=function(){return this.strapOnInitialize&&this.strap(),this.loadOnInitialize&&this.load(),this.showOnInitialize&&this.show(),this.hideOnInitialize&&this.hide(),this.isStrapped&&this.isLoaded},ListView.prototype.resolveAndStrap=function(){return this.discoverChildViews(),this.ux=new o.ElementsService(this),this.signals=new p.SignalsService(this),this.templates=new c.TemplatesService(this),this.signals._process(),this.templates._process(),this._listPins=this.ux._extractFactoryChildPins(!0,"list").list,this._listSelector="string"==typeof this._listPins.root?this._listPins.root:this._listPins.root(),delete this._listPins.root,!0},ListView.prototype.resolveAndLoad=function(){var t,e,r=!0;if(this.templates.resolve(this),this.canInitializeChildren)try{for(var i=__values(Object.values(this._children)),n=i.next();!n.done;n=i.next()){var o=n.value;this.initializeChild(o)||(r=!1)}}catch(e){t={error:e}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}else r=!1;return r&&(this.ux._normalizePins(),this.ux.updateAll(),this.ux._process(),this.findAndAddListItems(),this.ux.observe(this.onChanged.bind(this))),r},ListView.prototype.resolveAndShow=function(){return this.attach(),this.isAttached},ListView.prototype.resolveAndAttach=function(){return this.parent&&(this.parent.ux.root.innerHTML=this.ux.root.innerHTML),!0},ListView);function ListView(e){this._parent=e,this.name="list_view",this.listSelector="",this.listed=[],this._children={},this._listSelector="",this._listPins={}}t.ListView=u,s.Mixin(u,r.Initializable,a.Servicable,l.Observable,n.Viewable)}),define("lib/core/models/list",["require","exports","lib/helpers"],function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=(ModelList.prototype.retrieve=function(e){this.resolver.get(this.uri,this.resolveRetrieved.bind(this,e))},ModelList.prototype.resolveRetrieved=function(e,t){var r=JSON.parse(t.payload);this.update(r),this.onUpdate(r),e&&e()},ModelList.prototype.update=function(e){var t,r;this.items=[];try{for(var i=__values(Object.values(e)),n=i.next();!n.done;n=i.next()){var o=n.value;this.items.push(new this.model(new Map(Object.entries(o))))}}catch(e){t={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}},ModelList.prototype.onUpdate=function(e){},ModelList.prototype.extract=function(){return this.items.map(function(e){return e.extract()})},ModelList);function ModelList(e,t){this.resolver=new r.Resolver,this.items=[],this.model=e,this.uri=t}t.ModelList=i}),define("lib/core/models/fields/field",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=(ModelField.prototype.update=function(e){this.value=e},ModelField.prototype.validate=function(e){return!0},ModelField.prototype.normalize=function(e){return e},ModelField.prototype.extract=function(){return this.value},ModelField);function ModelField(){}t.ModelField=r}),define("lib/core/models/model",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=(Model.prototype.create=function(){},Model.prototype.populate=function(e){var r=this;e.forEach(function(e,t){r.updateField(t,e)})},Model.prototype.updateField=function(e,t){var r=this.attributes.get(e);r&&r.update(t)},Model.prototype.extract=function(){var t,e,r={};try{for(var i=__values(this.attributes),n=i.next();!n.done;n=i.next()){var o=n.value;r[o[0]]=o[1].extract()}}catch(e){t={error:e}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}return r},Model);function Model(e){this.attributes=new Map,this.create(),e&&this.populate(e)}t.Model=r}),define("lib/core/models/fields/number.field",["require","exports","lib/core/models/fields/field"],function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,n=(i=r.ModelField,__extends(ModelNumberField,i),ModelNumberField.prototype.update=function(e){return this.value=this.normalize(e),this.value},ModelNumberField.prototype.normalize=function(e){return"string"==typeof e?parseFloat(e):e},ModelNumberField);function ModelNumberField(e){void 0===e&&(e=0);var t=i.call(this)||this;return t.value=t.update(e),t}t.ModelNumberField=n}),define("lib/core/models/fields/text.field",["require","exports","lib/core/models/fields/field"],function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,n=(i=r.ModelField,__extends(ModelTextField,i),ModelTextField.prototype.update=function(e){return this.value=this.normalize(e),this.value},ModelTextField);function ModelTextField(e){void 0===e&&(e="");var t=i.call(this)||this;return t.value=t.update(e),t}t.ModelTextField=n}),define("lib/core",["require","exports","lib/core/components/strappable","lib/core/components/loadable","lib/core/components/initializable","lib/core/components/component","lib/core/components/application","lib/core/controllers/controller","lib/core/components/viewable","lib/core/components/view","lib/core/components/view_list","lib/core/models/model","lib/core/models/list","lib/core/models/fields/field","lib/core/models/fields/number.field","lib/core/models/fields/text.field"],function(e,t,r,i,n,o,s,a,l,p,c,u,d,h,f,v){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Strappable=r.Strappable,t.Loadable=i.Loadable,t.Initializable=n.Initializable,t.BaseComponent=o.BaseComponent,t.BaseApplication=s.BaseApplication,t.Controller=a.Controller,t.Viewable=l.Viewable,t.View=p.View,t.ListView=c.ListView,t.Model=u.Model,t.ModelList=d.ModelList,t.ModelField=h.ModelField,t.ModelNumberField=f.ModelNumberField,t.ModelTextField=v.ModelTextField}),define("lib/services/ux/uxevent",["require","exports","lib/helpers/objects","lib/services/ux/element.service"],function(e,t,s,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UXEvent=function UXEvent(e,t){void 0===t&&(t={});for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];var n={parent:null,test:null,event:void 0,name:"",isSelector:!0,capture:!1},o=__assign(__assign({},n),t);return a.ElementsService.binder.bind(null,e,o.parent,o.test,o.event,o.name,o.isSelector,o.capture,s.Objects.diff(t,n))},t.UXFormFieldEvent=function UXFormFieldEvent(e,t){void 0===t&&(t={});var r={parent:document,test:null,event:void 0,name:"",isSelector:!0,capture:!0},i=__assign(__assign({},r),t);return a.ElementsService.binder.bind(null,e,i.parent,i.test,i.event,i.name,i.isSelector,i.capture,s.Objects.diff(t,r))}}),define("lib/services/ux/element.binder",["require","exports","lib/services/binder"],function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,n=(i=r.Binder,__extends(ElementsBinder,i),ElementsBinder.prototype.bindProperty=function(e,t,r,i,n,o,s,a,l,p,c,u){void 0===o&&(o=null),void 0===s&&(s=null),void 0===l&&(l=""),void 0===p&&(p=!0),void 0===c&&(c=!1),void 0===u&&(u={}),a=a||(t.startsWith("on")?t.split(/(?=[A-Z])/)[1].toLowerCase():t);var d=__assign({el:n,parent:o,event:a,isSelector:p,method:t,test:s,resolver:i,capture:c},u);return[r,this.annotation(e,d)]},ElementsBinder.prototype.processAnnotation=function(e,t){if(e&&t.resolver)t.resolver(this,e,t);else if(e&&t.method){var r=t.parent?"string"==typeof t.parent?e.ux.els[t.parent]:t.parent:e.ux.root,i=e[t.method].bind(e),n=t.test?e[t.test].bind(e):null;if(r instanceof Document||r instanceof Window||r.delegate)if(n)r.addEventListener(t.event,function(e){n(e)&&i(e)},t.capture);else if(t.el&&t.el.startsWith("@")&&!t.el.startsWith("@root")){var o=e.ux._normalizePin(t.el);r.addEventListener(t.event,function(e){var t=e.target.closest(o);return!(!e.target||!t)&&i(e,t)},t.capture)}else r.addEventListener(t.event,function(e){return i(e,e.target)},t.capture)}},ElementsBinder);function ElementsBinder(){return null!==i&&i.apply(this,arguments)||this}t.ElementsBinder=n}),define("lib/services/ux/transition",["require","exports","lib/services/ux/element.service"],function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Transition=function Transition(e,t,r){var i;void 0===t&&(t=null),void 0===r&&(r={});for(var n=[],o=3;o<arguments.length;o++)n[o-3]=arguments[o];return(i=s.ElementsService.transitionsBinder).bind.apply(i,__spread([e,t,r],n))}}),define("lib/services/ux/animations.binder",["require","exports","lib/services/binder"],function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,n=(i=r.Binder,__extends(TransitionsBinder,i),TransitionsBinder.prototype.bindProperty=function(e,t,r,i,n,o){void 0===n&&(n=null),void 0===o&&(o={});var s={method:t,name:i,root:n,options:o};return[r,this.annotation(e,s)]},TransitionsBinder.prototype.processAnnotation=function(e,t){var r=e.view.ux.transition(t.name,e.com,t.options);r.length||e[t.method](r)},TransitionsBinder);function TransitionsBinder(){return null!==i&&i.apply(this,arguments)||this}t.TransitionsBinder=n}),define("lib/services/ux/element.service",["require","exports","lib/services/service","lib/services/ux/service/elements/base","lib/services/ux/element.binder","lib/helpers/common","lib/services/ux/service/animations/transition","lib/services/ux/animations.binder"],function(e,t,r,o,i,s,n,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l,p=(l=r.Service,__extends(ElementsService,l),Object.defineProperty(ElementsService.prototype,"pins",{get:function(){return this.provider.pins},enumerable:!0,configurable:!0}),Object.defineProperty(ElementsService.prototype,"els",{get:function(){return this._els},set:function(e){this._els=e},enumerable:!0,configurable:!0}),Object.defineProperty(ElementsService.prototype,"transitions",{get:function(){return ElementsService._transitions},set:function(e){ElementsService._transitions=e},enumerable:!0,configurable:!0}),Object.defineProperty(ElementsService.prototype,"root",{get:function(){return this._root},set:function(e){this._root=e},enumerable:!0,configurable:!0}),ElementsService.prototype.create=function(e,t){var r=document.createElement("div");return r.innerHTML=e.trim(),new o.BaseElement(r.firstChild,null,t)},ElementsService.prototype.createFrom=function(e,t){return new o.BaseElement(e,null,t)},ElementsService.prototype.pin=function(e,t){return void 0===t&&(t=!1),"string"!=typeof this.pins[e]&&t?this.pins[e]():this.pins[e]},ElementsService.prototype.observe=function(e,t,r){r=r||{childList:!0};var i=t&&this.el(t)&&this.el(t).delegate||this.root.delegate;this._observers[t||"root"]=new MutationObserver(e),this._observers[t||"root"].observe(i,r)},ElementsService.prototype.el=function(e,t){return void 0===t&&(t=!0),t&&this.update(e),this.els[e].first},ElementsService.prototype.list=function(e,t){return void 0===t&&(t=!0),t&&this.update(e),this.els[e]},ElementsService.prototype.update=function(e,t){this.els[e]=t||this._getEl(e)},ElementsService.prototype.updateRoot=function(e,t){void 0===t&&(t=!1),this.isFixedRoot&&!t||(this.root=e||this._getRoot())},ElementsService.prototype.updateAll=function(){this.updateRoot(),this.els=__assign({},this._getEls())},ElementsService.prototype.transition=function(e,t,r){return void 0===r&&(r={}),e?this.transitions[e]=this.transitions[e]||new n.BaseTransition(e,t,r):new n.BaseTransition},ElementsService.prototype._getEls=function(){var t,e,r={};try{for(var i=__values(Object.keys(this.pins||{})),n=i.next();!n.done;n=i.next()){var o=n.value;r[o]=this._getEl(o)}}catch(e){t={error:e}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}return r},ElementsService.prototype._getEl=function(e){return"string"==typeof this.pins[e]?new o.BaseElementList(this.pins[e],this.root,this.provider):this.pins[e]()},ElementsService.prototype._getRoot=function(e){var t,r;e=e||this.provider.selector,s.assert(""===e,"Selector not set for: "+this.provider.name);var i=document;if(this.provider.parent&&(i=this.provider.parent.ux.root),null!==(r=null===(t=this.provider.templates)||void 0===t?void 0:t.tmpl)&&void 0!==r&&r._tmpl){var n=new o.BaseElement(document.createDocumentFragment(),null,this.provider);this.create(this.provider.templates.tmpl.process()).appendTo(n),new o.BaseElement(e,n,this.provider).delegate&&(i=n)}return i=new o.BaseElement(e,i,this)},ElementsService.prototype._extractFactoryChildPins=function(e){var t,r;void 0===e&&(e=!0);for(var i=[],n=1;n<arguments.length;n++)i[n-1]=arguments[n];var o={};i.forEach(function(e){return o[e]={}});try{for(var s=__values(Object.keys(this.pins)),a=s.next();!a.done;a=s.next()){var l=a.value,p=this.pins[l];if(l.startsWith("%")){var c=0<=l.indexOf(" ")?l.indexOf(" ")-1:p.length,u=l.substr(1,c);i.includes(u)&&(o[u][l.substr(2+u.length)]=p,e&&delete this.pins[l])}}}catch(e){t={error:e}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(t)throw t.error}}return o},ElementsService.prototype._normalizePins=function(){var t,e;try{for(var r=__values(Object.keys(this.pins||{})),i=r.next();!i.done;i=r.next()){var n=i.value,o=this.pins[n];"string"==typeof o&&(o.startsWith("@")||o.startsWith("%"))&&(this.pins[n]=this._normalizePin(o))}}catch(e){t={error:e}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}},ElementsService.prototype._normalizePin=function(e,t){void 0===t&&(t=0);var r=e;return e.startsWith("%")?r=this._normalizeViewPin(e,t):e.startsWith("@")&&(r=this._expandStandardPin(e,t)),r},ElementsService.prototype._normalizeViewPin=function(i,e){var n=this;return void 0===e&&(e=0),function(){var e=0<=i.indexOf(" ")?i.indexOf(" ")-1:i.length,t=i.substr(1,e),r=n.provider.child(t);return r.compile(),r?new o.BaseElementList([r.ux.root.delegate],r.ux.root,n):null}},ElementsService.prototype._expandViewPin=function(e,t){void 0===t&&(t=0);var r=0<=e.indexOf(" ")?e.indexOf(" ")-1:e.length,i=e.substr(1,r),n=this.provider.child(i),o=0<=e.indexOf(" ")?e.split(" ",2)[1]:"";return n.selector+" "+o},ElementsService.prototype._expandStandardPin=function(e,t){void 0===t&&(t=0);var r=0<=e.indexOf(" ")?e.indexOf(" ")-1:e.length,i=e.substr(1,r);if(this.provider._children[i])return this._expandViewPin(e,t);var n=((this.pins[i]||"")+" "+(0<=e.indexOf(" ")?e.split(" ",2)[1]:"")).trim();return n.startsWith("@")&&!t?this._expandStandardPin(n,t+1):n},ElementsService.prototype._process=function(){ElementsService.binder.process(this.provider),this.provider.com&&ElementsService.transitionsBinder.process(this.provider.com)},ElementsService._transitions={},ElementsService.binder=new i.ElementsBinder,ElementsService.transitionsBinder=new a.TransitionsBinder,ElementsService);function ElementsService(e,t,r){void 0===r&&(r=!1);var i=l.call(this)||this;return i.provider=e,i.isFixedRoot=r,i._els={},i._observers={},t&&i.updateRoot(t,!0),i}t.ElementsService=p}),define("lib/core/components/viewable",["require","exports","lib/core/components/initializable","lib/services/servicable","lib/core/components/observable","lib/helpers"],function(e,t,r,i,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=(Object.defineProperty(Viewable.prototype,"hasTemplate",{get:function(){var e;return null!==(null===(e=this.tmpl)||void 0===e?void 0:e._tmpl)},enumerable:!0,configurable:!0}),Object.defineProperty(Viewable.prototype,"parent",{get:function(){return this._parent},set:function(e){this._parent=e},enumerable:!0,configurable:!0}),Object.defineProperty(Viewable.prototype,"ux",{get:function(){return this._ux},set:function(e){this._ux=e},enumerable:!0,configurable:!0}),Object.defineProperty(Viewable.prototype,"signals",{get:function(){return this._signals},set:function(e){this._signals=e},enumerable:!0,configurable:!0}),Object.defineProperty(Viewable.prototype,"templates",{get:function(){return this._templates},set:function(e){this._templates=e},enumerable:!0,configurable:!0}),Object.defineProperty(Viewable.prototype,"tmpl",{get:function(){var e;return null===(e=this._templates)||void 0===e?void 0:e._tmpl},enumerable:!0,configurable:!0}),Object.defineProperty(Viewable.prototype,"canBeShown",{get:function(){return!this.isShown},enumerable:!0,configurable:!0}),Object.defineProperty(Viewable.prototype,"canBeHidden",{get:function(){return!this.isHidden},enumerable:!0,configurable:!0}),Object.defineProperty(Viewable.prototype,"canBeAttached",{get:function(){return!this.isAttached},enumerable:!0,configurable:!0}),Object.defineProperty(Viewable.prototype,"canInitializeChildren",{get:function(){return!0},enumerable:!0,configurable:!0}),Viewable.prototype.discoverChildViews=function(){var r=this;Object.getOwnPropertyNames(this).forEach(function(e){if("_parent"!==e){var t=Object.getOwnPropertyDescriptor(r,e);t&&t.value&&t.value.__MRO__&&t.value.__MRO__.includes(Viewable)&&r.addChildView(e,t.value)}})},Viewable.prototype.child=function(e){return this._children[e]},Viewable.prototype.addChildView=function(e,t){(this._children[e]=t).parent=this},Viewable.prototype.initializeChild=function(e){return e.isInitialized||e.isInitializing||e.init(),e.isInitialized||e.signals.once("view:init:after",this.resolveInitializedChild.bind(this,e)),e.isInitialized},Viewable.prototype.resolveInitializedChild=function(e){Object.values(this._children).every(function(e){return e.isInitialized})&&this.init()},Viewable.prototype.resolveLoadedTemplate=function(e){this.templates.tmpl.pending||this.init()},Viewable.prototype.show=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.canBeShown&&(this.isShown||this.hasBeenShown||this.onBeforeInitialShow(),this.isShown||this.onBeforeShow(),this.resolveAndShow()&&(this.isShown=!0,this.isHidden=!1,this.onShow.apply(this,__spread(e)),this.hasBeenShown||this.onInitialShow(),this.isShown&&!this.hasBeenShown&&this.onAfterInitialShow(),this.isShown&&this.onAfterShow(),this.hasBeenShown=!0))},Viewable.prototype.resolveAndShow=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return!0},Viewable.prototype.onInitialShow=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]},Viewable.prototype.onBeforeInitialShow=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]},Viewable.prototype.onAfterInitialShow=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]},Viewable.prototype.onShow=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]},Viewable.prototype.onBeforeShow=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]},Viewable.prototype.onAfterShow=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]},Viewable.prototype.hide=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.canBeHidden&&(this.isHidden||this.hasBeenHidden||this.onBeforeInitialHide(),this.isHidden||this.onBeforeHide(),this.resolveAndHide()&&(this.isHidden=!0,this.isShown=!1,this.onHide.apply(this,__spread(e)),this.hasBeenHidden||this.onInitialHide(),this.isHidden&&!this.hasBeenHidden&&this.onAfterInitialHide(),this.isHidden&&this.onAfterHide(),this.hasBeenHidden=!0))},Viewable.prototype.resolveAndHide=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return!0},Viewable.prototype.onInitialHide=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]},Viewable.prototype.onBeforeInitialHide=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]},Viewable.prototype.onAfterInitialHide=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]},Viewable.prototype.onHide=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]},Viewable.prototype.onBeforeHide=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]},Viewable.prototype.onAfterHide=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]},Viewable.prototype.attach=function(){this.canBeAttached&&(this.isAttaching=!0,this.isAttached||this.hasBeenAttached||this.onBeforeInitialAttach(),this.isAttached||this.onBeforeAttach(),this.resolveAndAttach()&&(this.isAttached=!0,this.isAttaching=!1,this.onAttach(),this.hasBeenAttached||this.onInitialAttach(),this.isAttached&&!this.hasBeenAttached&&this.onAfterInitialAttach(),this.isAttached&&this.onAfterAttach(),this.hasBeenAttached=!0))},Viewable.prototype.resolveAndAttach=function(){return!0},Viewable.prototype.onInitialAttach=function(){},Viewable.prototype.onBeforeInitialAttach=function(){},Viewable.prototype.onAfterInitialAttach=function(){},Viewable.prototype.onAttach=function(){},Viewable.prototype.onBeforeAttach=function(){},Viewable.prototype.onAfterAttach=function(){},Viewable.prototype.compile=function(){this.ux.updateAll(),this.ux._process(),this.onBeforeCompile(),this.onCompile(),this.onAfterCompile()},Viewable.prototype.onCompile=function(){},Viewable.prototype.onBeforeCompile=function(){},Viewable.prototype.onAfterCompile=function(){},Viewable);function Viewable(){this.annotations=new Map,this.name="",this.selector="body",this.pins={},this._children={},this._services={},this.showOnInitialize=!1,this.hideOnInitialize=!1,this.isShown=!1,this.isHidden=!1,this.isAttached=!1,this.isAttaching=!1,this.hasBeenShown=!1,this.hasBeenHidden=!1,this.hasBeenAttached=!1,this.hasBeenDetached=!1}t.Viewable=s,o.Mixin(s,r.Initializable,i.Servicable,n.Observable)}),define("lib/services/routing/route",["require","exports","lib/services/routing/routing.service"],function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Route=function Route(e,t){for(var r,i=[],n=2;n<arguments.length;n++)i[n-2]=arguments[n];return(r=o.RoutingService.binder).bind.apply(r,__spread([e,t],i))}}),define("lib/services/routing/service/validator",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=(Validator.prototype.test=function(e){return this.fn(e)},Validator.prototype.convert=function(e){return this.converter?this.converter(e):e},Validator);function Validator(e,t,r){this.name=e,this.fn=t,this.converter=r}t.Validator=r}),define("lib/services/routing/service/route",["require","exports","lib/core/components/component"],function(u,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=(Object.defineProperty(BaseRoute.prototype,"provider",{get:function(){return this._provider},set:function(e){this._provider=e},enumerable:!0,configurable:!0}),Object.defineProperty(BaseRoute.prototype,"router",{get:function(){return this.provider.router},enumerable:!0,configurable:!0}),BaseRoute.prototype.resolveName=function(){return null},BaseRoute.prototype.validate=function(e){var t,r=!1,i=[];if(this.regex.test(e)){var n=this.getMatches(e),o="";if(r=!0,this.tests.length)for(var s in n)if(r=(t=__read(this.validateTest(n[s],this.tests[s]),2))[0],o=t[1],i.push(o),!r)break}return[r,i]},BaseRoute.prototype.getMatches=function(e){return e.match(this.regex).slice(1)},BaseRoute.prototype.validateTest=function(e,t){var r=this.router.validators[t],i=!!r&&r.test(e);return[i,i?r.convert(e):null]},BaseRoute);function BaseRoute(e,t){this.pattern=t.pattern,this.regex=t.regex||new RegExp(""),this.fn=function(){},this.tests=t.tests||[],this.name=t.name||this.resolveName(),this.provider=e}e.BaseRoute=t;var r=(Object.defineProperty(MatchedRoute.prototype,"provider",{get:function(){return this.route.provider},enumerable:!0,configurable:!0}),Object.defineProperty(MatchedRoute.prototype,"router",{get:function(){return this.route.router},enumerable:!0,configurable:!0}),MatchedRoute.prototype.call=function(){var e;if(null!==this.route.fn)return(e=this.route).fn.apply(e,__spread(this.args))},MatchedRoute);function MatchedRoute(e,t){this.args=[],this.route=e,this.args=t}e.MatchedRoute=r;var n,i=(__extends(DeferredRoute,n=t),DeferredRoute.prototype.resolveName=function(){return null},DeferredRoute.prototype.resolveFn=function(){var c=this;return function(){return __awaiter(c,void 0,void 0,function(){var t,r,i,n,o,s,a,l,p;return __generator(this,function(e){switch(e.label){case 0:return[4,new Promise(function(e,t){u([c.path],e,t)}).then(__importStar)];case 1:if(t=e.sent(),this.path.endsWith(".com")){r=this.discoverImportComponents(t),i=function(e){var t=new e;n.provider instanceof d.BaseComponent&&(t.parent=n.provider),t.init(),t.isInitialized?t.router.update():t.signals.once("com:init:after",function(){t.router.update()})},n=this;try{for(o=__values(r),s=o.next();!s.done;s=o.next())a=s.value,i(a)}catch(e){l={error:e}}finally{try{s&&!s.done&&(p=o.return)&&p.call(o)}finally{if(l)throw l.error}}}return[2]}})})}},DeferredRoute.prototype.discoverImportComponents=function(i){var n=[];return Object.getOwnPropertyNames(i).forEach(function(e){var t,r=Object.getOwnPropertyDescriptor(i,e);null!==(t=null==r?void 0:r.value)&&void 0!==t&&t.prototype&&r.value.prototype instanceof d.BaseComponent&&n.push(r.value)}),n},DeferredRoute);function DeferredRoute(e,t,r){var i=n.call(this,e,t)||this;return i.path=r,i.fn=i.resolveFn(),i}e.DeferredRoute=i;var o,s=(__extends(LoadedRoute,o=t),LoadedRoute);function LoadedRoute(i,n){var e=o.call(this,i,n)||this;return n.method?e.fn=i[n.method].bind(i):e.fn=function(){for(var e,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];n.transition?i.view.ux.transition(n.transition).run(i.view):(e=i.view).show.apply(e,__spread(t))},e}e.LoadedRoute=s}),define("lib/services/routing/routing.binder",["require","exports","lib/services/binder"],function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,n=(i=r.Binder,__extends(RoutingBinder,i),RoutingBinder.prototype.bindCls=function(e,t,r){for(var i=[],n=3;n<arguments.length;n++)i[n-3]=arguments[n];var o={pattern:t,transition:r,method:null};return[e,this.annotation(e,o)]},RoutingBinder.prototype.bindProperty=function(e,t,r,i,n){for(var o=[],s=5;s<arguments.length;s++)o[s-5]=arguments[s];var a={pattern:i,transition:n,method:t};return[r,this.annotation(e,a)]},RoutingBinder.prototype.processAnnotation=function(e,t){e.router.createRoute(e,t)},RoutingBinder);function RoutingBinder(){return null!==i&&i.apply(this,arguments)||this}t.RoutingBinder=n}),define("lib/services/routing/routing.service",["require","exports","lib/services/service","lib/services/routing/service/route","lib/services/routing/service/validator","lib/services/routing/routing.binder","lib/helpers/common","lib/helpers/requests/resolver"],function(e,t,r,p,i,n,o,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,l=(a=r.Service,__extends(RoutingService,a),Object.defineProperty(RoutingService.prototype,"history",{get:function(){return window.history},enumerable:!0,configurable:!0}),RoutingService.prototype.createRoute=function(e,t){var r,i="string"==typeof t?{pattern:t}:t;if(!i.regex){var n=__read(this._resolvePattern(i.pattern),2),o=n[0],s=n[1];i.regex=o,i.tests=s}r=this.routes[i.pattern]="string"==typeof e?new p.DeferredRoute(this.provider,i,e):new p.LoadedRoute(e,i),(i.name||r.name)&&(this.named[i.name||r.name]=r)},RoutingService.prototype.changeURI=function(e,t){void 0===t&&(t=!0),this.history.pushState({},"",e),t&&this.update()},RoutingService.prototype.update=function(){var e=this.matchRoute(this.path);e&&e.call()},RoutingService.prototype.matchRoute=function(e){var t,r;try{for(var i=__values(Object.values(this.routes)),n=i.next();!n.done;n=i.next()){var o=n.value,s=__read(o.validate(e),2),a=s[0],l=s[1];if(a)return new p.MatchedRoute(o,l)}}catch(e){t={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}},RoutingService.prototype._resolvePattern=function(e){var t,r,i=e.match(/{([^}]+)}/g)||[],n=[];try{for(var o=__values(i),s=o.next();!s.done;s=o.next()){var a=s.value,l=a.split(":")[1];n.push(l.substr(0,l.length-1)),e=e.replace(a,"(.+)")}}catch(e){t={error:e}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}return i.length||(e="^"+e+"$"),e=e.replace("**","(.+)?"),[new RegExp(e),n]},RoutingService.prototype._process=function(e,t){void 0===t&&(t=!1),RoutingService.binder.process(e||this.provider),t&&this.update()},RoutingService.binder=new n.RoutingBinder,RoutingService);function RoutingService(e){var t=a.call(this)||this;return t.provider=e,t.routes={},t.named={},t.validators={num:new i.Validator("num",function(e){return NaN!=Number(e)},function(e){return Number(e)}),str:new i.Validator("str",function(e){return"string"==typeof e})},t.provider.parent&&(t.routes=t.provider.parent.router.routes),t}t.RoutingService=l,o.Mixin(l,s.Resolver)}),define("lib/core/components/component",["require","exports","lib/core/components/initializable","lib/services/servicable","lib/services/routing/routing.service","lib/helpers","lib/helpers/common","lib/services/signals/signals.service"],function(e,t,r,i,n,o,s,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=(Object.defineProperty(BaseComponent.prototype,"parent",{get:function(){return this._parent},set:function(e){this.router=e.router,this._parent=e},enumerable:!0,configurable:!0}),Object.defineProperty(BaseComponent.prototype,"view",{get:function(){return this._view},set:function(e){this._view=e},enumerable:!0,configurable:!0}),Object.defineProperty(BaseComponent.prototype,"cont",{get:function(){return this._cont},set:function(e){this._cont=e},enumerable:!0,configurable:!0}),Object.defineProperty(BaseComponent.prototype,"router",{get:function(){return this._router},set:function(e){this._router=e},enumerable:!0,configurable:!0}),Object.defineProperty(BaseComponent.prototype,"signals",{get:function(){return this._signals},set:function(e){this._signals=e},enumerable:!0,configurable:!0}),Object.defineProperty(BaseComponent.prototype,"canInitializeChildren",{get:function(){return this.isStrapped},enumerable:!0,configurable:!0}),BaseComponent.prototype.discoverChildComponents=function(){var r=this;Object.getOwnPropertyNames(this).forEach(function(e){if("_parent"!==e){var t=Object.getOwnPropertyDescriptor(r,e);null!=t&&t.value&&t.value instanceof BaseComponent&&r.addChildComponent(e,t.value)}})},BaseComponent.prototype.init=function(){r.Initializable.prototype.init.bind(this)(),this.isInitialized&&this.signals.op("com:init")},BaseComponent.prototype.strap=function(){r.Initializable.prototype.strap.bind(this)(),this.isStrapped&&this.signals.op("com:strap")},BaseComponent.prototype.load=function(){r.Initializable.prototype.load.bind(this)(),this.isLoaded&&this.signals.op("com:load")},BaseComponent.prototype.resolveAndStrap=function(){return s.assert(!this.view,"A base view was not bound to the component"),this.discoverChildComponents(),this.router||(this.router=new n.RoutingService(this)),this.signals=new a.SignalsService(this.view),"function"==typeof this.cont&&(this.cont=new this._cont),!0},BaseComponent.prototype.resolveAndLoad=function(){var t,e,r=!0;if("function"==typeof this.view&&(this.view=new this._view,(this.view.com=this).view.init(),this.view.isInitialized||(this.view.signals.once("view:init:after",this.resolveInitializedView.bind(this,this.view)),r=!1)),r&&this.canInitializeChildren)try{for(var i=__values(Object.values(this._children)),n=i.next();!n.done;n=i.next()){var o=n.value;this.initializeChild(o)||(r=!1)}}catch(e){t={error:e}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}else r=!1;return r&&this.router._process(this),r},BaseComponent.prototype.resolveInitializedView=function(e){var t=e===this.view&&this.view.isInitialized;e.ux.updateAll(),e.ux._process(),t&&this.init()},BaseComponent.prototype.child=function(e){return this._children[e]},BaseComponent.prototype.addChildComponent=function(e,t){(this._children[e]=t).parent=this},BaseComponent.prototype.initializeChild=function(e){return e.isInitialized||e.isInitializing||e.init(),e.isInitialized||e.view.signals.once("com:init:after",this.resolveInitializedChild.bind(this,e)),e.isInitialized},BaseComponent.prototype.resolveInitializedChild=function(e){Object.values(this._children).every(function(e){return e.isInitialized})&&this.init()},BaseComponent);function BaseComponent(){this.name="com",this._children={}}t.BaseComponent=l,o.Mixin(l,r.Initializable,i.Servicable)}),define("lib/services/ux/service/animations/transition",["require","exports","lib/services/ux/service/animations/step"],function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=(Object.defineProperty(BaseTransition.prototype,"root",{get:function(){return this._root},set:function(e){this._root=e},enumerable:!0,configurable:!0}),Object.defineProperty(BaseTransition.prototype,"isProcessing",{get:function(){return!!this.processing},enumerable:!0,configurable:!0}),Object.defineProperty(BaseTransition.prototype,"length",{get:function(){return Object.keys(this.sequence).length},enumerable:!0,configurable:!0}),BaseTransition.prototype.iterable=function(){var t,r,i,n,o;return __generator(this,function(e){switch(e.label){case 0:e.trys.push([0,5,6,7]),t=__values(Object.values(this.sequence)),r=t.next(),e.label=1;case 1:return r.done?[3,4]:[4,r.value];case 2:e.sent(),e.label=3;case 3:return r=t.next(),[3,1];case 4:return[3,7];case 5:return i=e.sent(),n={error:i},[3,7];case 6:try{r&&!r.done&&(o=t.return)&&o.call(t)}finally{if(n)throw n.error}return[7];case 7:return[2]}})},BaseTransition.prototype.first=function(){return this.processing||(this.processing=this.iterable()),this.processing.next().value},BaseTransition.prototype.next=function(e){var t=this.processing?this.processing.next().value:null;t?t.start.apply(t,__spread([e],this.args||[])):this.processing=null},BaseTransition.prototype.add=function(e){var t=new r.TransitionStep(this,e);return this.sequence[t.name]=t},BaseTransition.prototype.parallel=function(e){return e?this.sequence[e]:this.sequence[Object.keys(this.sequence)[this.length-1]]},BaseTransition.prototype.run=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(!this.isProcessing){this.args=e.length?e:null;var r=this.first();r.start.apply(r,__spread([void 0],e))}},BaseTransition);function BaseTransition(e,t,r){void 0===r&&(r={}),this.options={},this.args=null,this.sequence={},this.processing=null,e&&(this.name=e),t&&(this._root=t),this.options=__assign({},r)}t.BaseTransition=i}),define("lib/services/signals/service/broadcast",["require","exports","lib/helpers"],function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=(Object.defineProperty(Broadcast.prototype,"hasRepeatersBefore",{get:function(){var s=!1;return this.before.forEach(function(e){var t,r;try{for(var i=__values(e),n=i.next();!n.done;n=i.next()){var o=n.value;Object.keys(o.repeaters).length&&(s=!0)}}catch(e){t={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}}),s},enumerable:!0,configurable:!0}),Object.defineProperty(Broadcast.prototype,"hasRepeatersAfter",{get:function(){var s=!1;return this.after.forEach(function(e){var t,r;try{for(var i=__values(e),n=i.next();!n.done;n=i.next()){var o=n.value;Object.keys(o.repeaters).length&&(s=!0)}}catch(e){t={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}}),s},enumerable:!0,configurable:!0}),Broadcast.prototype._resolveSpectrum=function(e){var t=this.radio.spectrums[e];return t=t||(this.radio.spectrums[e]=this.radio.registerSpectrum(e))},Broadcast.prototype._resolveFrequency=function(e,t){var r,i,n,o;if(e=e.length?e:this.bands,t=t||this.spectrum,1<e.length){if(null==(n=this.spectrum.frequencies[e[e.length-1]]))try{for(var s=__values(e),a=s.next();!a.done;a=s.next()){var l=a.value,p=l.split(":").pop();n=t.frequencies[l],o=1<l.split(":").length?t.frequencies[l.split(":").slice(0,-1).join(":")]:this.frequency,n=n||(t.frequencies[l]=t.registerFrequency(p,o))}}catch(e){r={error:e}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}}else{var c=e[e.length-1];n=(n=t.frequencies[c])||(t.frequencies[c]=t.registerFrequency(c,this.frequency))}return n},Broadcast.prototype._resolveReceivers=function(e,t){function Hz(t){o.set(t,n.map(function(e){return t.receiver(e)}))}var r,i,n=(t||this.input).split(" "),o=new Map;try{for(var s=__values(e),a=s.next();!a.done;a=s.next())Hz(a.value)}catch(e){r={error:e}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}return o},Broadcast.prototype._resolveChannelsAndReceivers=function(e,r){var t,i;function Vz(e){var t=r.channel(e);o.set(t,n.map(function(e){return t.receiver(e)}))}e=e||Object.keys(this.frequency.channels);var n=this.input.split(" "),o=new Map;try{for(var s=__values(e),a=s.next();!a.done;a=s.next())Vz(a.value)}catch(e){t={error:e}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(t)throw t.error}}return[__spread(o.keys()),o]},Broadcast.prototype._resolveSourceComponents=function(e){var t,r,i=["",[],null,null],n=e.split(" ");return n[0].startsWith("#")||n[0].startsWith("~")?(r=__read(this._resolvePrimarySource(""),2),i[0]=r[0],i[1]=r[1],i[2]=this._resolveSecondarySource(n),i[3]=this._resolveSignatureSource(n)):(t=__read(this._resolvePrimarySource(n[0]),2),i[0]=t[0],i[1]=t[1],i[2]=this._resolveSecondarySource(1<n.length?n.slice(1):null),i[3]=this._resolveSignatureSource(1<n.length?n.slice(1):null)),i},Broadcast.prototype._resolvePrimarySource=function(e){var t=e.split("|"),r=["",[]];return 1<t.length?(r[0]=t[0],r[1]=this._resolveFrequencyBands(t[1])):""!=e?(r[0]=this.radio.spectrum.name,r[1]=this._resolveFrequencyBands(t[0])):(r[0]=this.radio.spectrum.name,r[1]=this._resolveFrequencyBands(this.radio.frequency.bandName)),r},Broadcast.prototype._resolveSecondarySource=function(e){var t=null;return null!=e&&(t=this._resolveChannelNames(e.join(" "))),t=t&&t.length?t:this.radio.channel?[this.radio.channel.name]:null},Broadcast.prototype._resolveSignatureSource=function(e){return null!=e?this._resolveSignatures(e.join(" ")):this.radio.name?[this.radio.name]:null},Broadcast.prototype._resolveFrequencyBands=function(e){var r=e.split(":");return r.map(function(e,t){return r.slice(0,t+1).join(":")})},Broadcast.prototype._resolveChannelNames=function(e){return __spread(r.Strings.matchAll(e,/#([^ ]+)/)).map(function(e){return e[1]})},Broadcast.prototype._resolveSignatures=function(e){return __spread(r.Strings.matchAll(e,/~([^ ]+)~/)).map(function(e){return e[1]})},Broadcast);function Broadcast(e,t,r){var i,n,o;void 0===t&&(t=""),this.before=new Map,this.after=new Map,this.radio=e,this.input=t,this.source=r||e.source;var s=this._resolveSourceComponents(this.source);this.spectrum=this._resolveSpectrum(s[0]),this.frequency=this._resolveFrequency(s[1],this.spectrum),i=__read(this._resolveChannelsAndReceivers(s[2],this.frequency),2),this.channels=i[0],this.receivers=i[1],this.bands=this._resolveFrequencyBands(this.frequency.bandName),this.signatures=__spread(s[3]);try{for(var a=__values(["before","after"]),l=a.next();!l.done;l=a.next()){var p=l.value;[":before",":after"].find(function(e){return t.endsWith(e)})||(this[p]=this._resolveReceivers(this.channels,this.input+":"+p))}}catch(e){n={error:e}}finally{try{l&&!l.done&&(o=a.return)&&o.call(a)}finally{if(n)throw n.error}}}t.Broadcast=i}),define("lib/services/signals/service/spectrum",["require","exports","lib/services"],function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=(Spectrum.prototype.frequency=function(e){var t=this.frequencies[e];return t=t||(this.frequencies[e]=this.registerFrequency(e))},Spectrum.prototype.registerFrequency=function(e,t,r){return this.frequencies[e]=r||new i.Frequency(e,this,t),this.frequencies[e]},Spectrum);function Spectrum(e){this.frequencies={},this.name=e}t.Spectrum=r}),define("lib/services/signals/service/channel",["require","exports","lib/services"],function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=(Channel.prototype.receiver=function(e){var t=this.receivers[e];return t=t||(this.receivers[e]=this.registerReceiver(e))},Channel.prototype.registerReceiver=function(e,t){return this.receivers[e]=t||new r.Receiver(e,this),this.receivers[e]},Channel.prototype.registerListener=function(e,t,r){for(var i=[],n=3;n<arguments.length;n++)i[n-3]=arguments[n];var o=this.receiver(e);o.subscribe.apply(o,__spread([t,r],i))},Channel);function Channel(e,t){this.receivers={},this.name=e,this.frequency=t}t.Channel=i}),define("lib/services/signals/service/frequency",["require","exports","lib/services"],function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=(Object.defineProperty(Frequency.prototype,"band",{get:function(){return this._band},set:function(e){this._band=e},enumerable:!0,configurable:!0}),Object.defineProperty(Frequency.prototype,"bandName",{get:function(){return this.band?this.band.bandName+":"+this.name:this.name},enumerable:!0,configurable:!0}),Object.defineProperty(Frequency.prototype,"fullName",{get:function(){return this.spectrum.name+"|"+this.bandName},enumerable:!0,configurable:!0}),Frequency.prototype.channel=function(e){var t=this.channels[e];return t=t||(this.channels[e]=this.registerChannel(e))},Frequency.prototype.registerChannel=function(e,t){return this.channels[e]=t||new r.Channel(e,this),this.channels[e]},Frequency);function Frequency(e,t,r){this.channels={},this.name=e,this.spectrum=t,r&&(this.band=r)}t.Frequency=i}),define("lib/services/signals/service/receiver",["require","exports","lib/services","lib/helpers"],function(e,t,o,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=(Receiver.prototype.subscribe=function(e,t){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];var n=new(o.Repeater.bind.apply(o.Repeater,__spread([void 0,this,"fixed-"+s.UUID.make(),e,t],r)));return this.repeaters[n.name]=n},Receiver.prototype.subscribeTemporary=function(e,t){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];var n=new(o.TemporaryRepeater.bind.apply(o.TemporaryRepeater,__spread([void 0,this,"temp-"+s.UUID.make(),e,t],r)));return this.repeaters[n.name]=n},Receiver.prototype.remove=function(e){delete this.repeaters[e.name]},Receiver);function Receiver(e,t){this.repeaters={},this.name=e,this.channel=t}t.Receiver=r}),define("lib/services/signals/service/repeater",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=(Repeater.prototype.trigger=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.cb.apply(this,__spread(e))},Repeater.prototype.remove=function(){delete this.receiver.repeaters[this.name]},Repeater);function Repeater(e,t,r,i){for(var n=[],o=4;o<arguments.length;o++)n[o-4]=arguments[o];this.destroyAfter=!1,this.receiver=e,this.name=t,this.cb=r,this.signature=i,this.args=n}t.Repeater=r;var i,n=(__extends(TemporaryRepeater,i=r),TemporaryRepeater);function TemporaryRepeater(){var e=null!==i&&i.apply(this,arguments)||this;return e.destroyAfter=!0,e}t.TemporaryRepeater=n}),define("lib/services",["require","exports","lib/services/service","lib/services/servicable","lib/services/ux/service/elements/base","lib/services/ux/service/animations/transition","lib/services/ux/element.service","lib/services/ux/transition","lib/services/ux/uxevent","lib/services/signals/service/radio","lib/services/signals/service/broadcast","lib/services/signals/service/operation","lib/services/signals/service/spectrum","lib/services/signals/service/channel","lib/services/signals/service/frequency","lib/services/signals/service/receiver","lib/services/signals/service/repeater","lib/services/signals/signal","lib/services/signals/signals.binder","lib/services/signals/signals.service","lib/services/templates/service/template","lib/services/templates/template","lib/services/templates/templates.binder","lib/services/templates/templates.service","lib/services/routing/route","lib/services/routing/routing.service","lib/services/routing/routing.binder","lib/services/routing/service/route","lib/services/routing/service/validator"],function(e,t,r,i,n,o,s,a,l,p,c,u,d,h,f,v,b,y,m,g,_,w,x,S,B,O,j,E,R){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Service=r.Service,t.Servicable=i.Servicable,t.BaseElement=n.BaseElement,t.BaseElementList=n.BaseElementList,t.BaseTransition=o.BaseTransition,t.ElementsService=s.ElementsService,t.Transition=a.Transition,t.UXEvent=l.UXEvent,t.UXFormFieldEvent=l.UXFormFieldEvent,t.Radio=p.Radio,t.Broadcast=c.Broadcast,t.Operation=u.Operation,t.Spectrum=d.Spectrum,t.Channel=h.Channel,t.Frequency=f.Frequency,t.Receiver=v.Receiver,t.Repeater=b.Repeater,t.TemporaryRepeater=b.TemporaryRepeater,t.Signal=y.Signal,t.SignalsBinder=m.SignalsBinder,t.SignalsService=g.SignalsService,t.BaseTemplate=_.BaseTemplate,t.Template=w.Template,t.TemplatesBinder=x.TemplatesBinder,t.TemplatesService=S.TemplatesService,t.Route=B.Route,t.RoutingService=O.RoutingService,t.RoutingBinder=j.RoutingBinder,t.BaseRoute=E.BaseRoute,t.Validator=R.Validator}),define("raven-js",["require","exports","lib/services","lib/core","lib/helpers"],function(e,t,r,i,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Service=r.Service,t.Servicable=r.Servicable,t.BaseElement=r.BaseElement,t.BaseElementList=r.BaseElementList,t.ElementsService=r.ElementsService,t.UXEvent=r.UXEvent,t.UXFormFieldEvent=r.UXFormFieldEvent,t.Transition=r.Transition,t.BaseTransition=r.BaseTransition,t.Radio=r.Radio,t.Broadcast=r.Broadcast,t.Operation=r.Operation,t.Spectrum=r.Spectrum,t.Channel=r.Channel,t.Frequency=r.Frequency,t.Receiver=r.Receiver,t.Repeater=r.Repeater,t.TemporaryRepeater=r.TemporaryRepeater,t.Signal=r.Signal,t.SignalsBinder=r.SignalsBinder,t.SignalsService=r.SignalsService,t.Route=r.Route,t.RoutingService=r.RoutingService,t.RoutingBinder=r.RoutingBinder,t.BaseRoute=r.BaseRoute,t.Validator=r.Validator,t.BaseTemplate=r.BaseTemplate,t.Template=r.Template,t.TemplatesBinder=r.TemplatesBinder,t.TemplatesService=r.TemplatesService,t.Strappable=i.Strappable,t.Loadable=i.Loadable,t.Viewable=i.Viewable,t.Initializable=i.Initializable,t.View=i.View,t.ListView=i.ListView,t.BaseComponent=i.BaseComponent,t.BaseApplication=i.BaseApplication,t.Controller=i.Controller,t.ModelList=i.ModelList,t.Model=i.Model,t.ModelField=i.ModelField,t.ModelNumberField=i.ModelNumberField,t.ModelTextField=i.ModelTextField,t.assert=n.assert,t.Mixin=n.Mixin,t.UTF8=n.UTF8,t.Strings=n.Strings,t.UUID=n.UUID,t.Objects=n.Objects,t.Resolver=n.Resolver,t.HttpRequest=n.HttpRequest,t.HttpResponse=n.HttpResponse}),define("lib/services/templates/service/helper",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=(Helper.prototype.fn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]},Helper);function Helper(){this.engine=Handlebars}t.Helper=r}),define("lib/services/templates/service/helpers/decode",["require","exports","lib/services/templates/service/helper"],function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,n=(i=r.Helper,__extends(DecodeHelper,i),DecodeHelper.prototype.fn=function(e){var t=document.createElement("textarea");return t.innerHTML=e,t.value},DecodeHelper);function DecodeHelper(){var e=null!==i&&i.apply(this,arguments)||this;return e.name="decode",e}t.DecodeHelper=n}),define("lib/services/templates/service/helpers/encode",["require","exports","lib/services/templates/service/helper"],function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,n=(i=r.Helper,__extends(EncodeHelper,i),EncodeHelper.prototype.fn=function(e){new this.engine.SafeString(e)},EncodeHelper);function EncodeHelper(){var e=null!==i&&i.apply(this,arguments)||this;return e.name="encode",e}t.EncodeHelper=n}),define("lib/services/templates/service/helpers/ifEquals",["require","exports","lib/services/templates/service/helper"],function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,n=(i=r.Helper,__extends(IfEqualsHelper,i),IfEqualsHelper.prototype.fn=function(e,t,r){return e===t?r.fn(this):r.inverse(this)},IfEqualsHelper);function IfEqualsHelper(){var e=null!==i&&i.apply(this,arguments)||this;return e.name="ifEquals",e}t.IfEqualsHelper=n}),define("lib/services/templates/service/helpers/listAbsent",["require","exports","lib/services/templates/service/helper"],function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,n=(i=r.Helper,__extends(ListAbsentHelper,i),ListAbsentHelper.prototype.fn=function(e,t,r){return-1==t.indexOf(e)?r.fn(this):r.inverse(this)},ListAbsentHelper);function ListAbsentHelper(){var e=null!==i&&i.apply(this,arguments)||this;return e.name="listAbsent",e}t.ListAbsentHelper=n}),define("lib/services/templates/service/helpers/listContains",["require","exports","lib/services/templates/service/helper"],function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,n=(i=r.Helper,__extends(ListContainsHelper,i),ListContainsHelper.prototype.fn=function(e,t,r){return-1<t.indexOf(e)?r.fn(this):r.inverse(this)},ListContainsHelper);function ListContainsHelper(){var e=null!==i&&i.apply(this,arguments)||this;return e.name="listContains",e}t.ListContainsHelper=n}),define("lib/services/templates/service/helpers/op",["require","exports","lib/services/templates/service/helper"],function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,n=(i=r.Helper,__extends(OpHelper,i),OpHelper.prototype.fn=function(e,t,r,i){var n=t;switch(e){case"+":n=t+r}return n},OpHelper);function OpHelper(){var e=null!==i&&i.apply(this,arguments)||this;return e.name="op",e}t.OpHelper=n});